<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>09-BUNDLE-CALCULATION-SPECIFICATION</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
    <style>
    /* ========== FinThrive Theme Styles (Embedded) ========== */
/* Load Google Font */
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');

body {
  font-family: 'Plus Jakarta Sans', sans-serif;
}
/* Typography Variables */
:root {
  /* Font Families */
  --font--headlines: 'Plus Jakarta Sans', sans-serif;
  --font--body-text: 'Plus Jakarta Sans', sans-serif;
  --font--accent: 'Plus Jakarta Sans', sans-serif;
  
  /* Font Weights */
  --weight--headlines: 500;
  --weight--body: normal;
  
  /* Display Sizes (Responsive) */
  --d-l: clamp(3.375rem, 4.464vi + 1.232rem, 5.250rem);
  --d-m: clamp(2.625rem, 5.060vi + 0.196rem, 4.750rem);
  --d-s: clamp(2.375rem, 2.381vi + 1.232rem, 3.375rem);
  --d-xs: clamp(2.375rem, 2.381vi + 1.232rem, 3.375rem);
  
  /* Heading Sizes (Responsive) */
  --h-xxl: clamp(2.375rem, 2.381vi + 1.232rem, 3.375rem);
  --h-xl: clamp(2.25rem, 0.893vi + 1.821rem, 2.625rem);
  --h-l: clamp(1.5rem, 1.786vi + 0.643rem, 2.250rem);
  --h-m: clamp(1.5rem, 0.595vi + 1.214rem, 1.750rem);
  --h-s: 1.3125rem;
  --h-xs: 1.125rem;
  
  /* Body Text Sizes */
  --b-l: clamp(1.25rem, 0.298vi + 1.107rem, 1.375rem);
  --b-m: 1.125rem;
  --b-s: 1.0rem;
  --b-xs: 0.875rem;
  
  /* Spacing Scale (Responsive) */
  --s-12: clamp(4.0rem, 20.238vi + -5.714rem, 12.500rem);
  --s-11: clamp(3.0rem, 16.667vi + -5.000rem, 10.000rem);
  --s-10: clamp(3.0rem, 11.905vi + -2.714rem, 8.000rem);
  --s-9: clamp(2.375rem, 8.631vi + -1.768rem, 6.000rem);
  --s-8: clamp(2.375rem, 3.869vi + 0.518rem, 4.000rem);
  --s-7: clamp(2.0rem, 2.381vi + 0.857rem, 3.000rem);
  --s-6: clamp(2.0rem, 0.595vi + 1.714rem, 2.250rem);
  --s-5: clamp(1.125rem, 0.893vi + 0.696rem, 1.500rem);
  --s-4: 1.125rem;
  --s-3: 0.75rem;
  --s-2: 0.5rem;
  --s-1: 0.25rem;
  --s-0: 0.0rem;
}

/* Light Mode Color Theme (Default) */
:root,
.light-mode {
  /* Primary Colors */
  --primary: #00E091;
  --primary--medium: #80F2C3;
  --primary--light: #C0F9E1;
  --primary--extra-light: #EBFBF7;
  --primary--dark: #005654;
  
  /* Secondary Colors */
  --secondary: #FF9B5C;
  --secondary--medium: #F87A3A;
  --secondary--light: #FFCA98;
  --secondary--extra-light: #fff2e5;
  --secondary--dark: #663E25;
  
  /* Tertiary Colors */
  --tertiary: #3E69FA;
  --tertiary--medium: #3356CC;
  --tertiary--light: #CAD6FF;
  --tertiary--dark: #13204D;
  
  /* Accent Color */
  --accent: #9efb21;
  
  /* Neutral Colors */
  --neutral--black: #005654;
  --neutral--dark: #005654;
  --neutral--medium-dark: #545757;
  --neutral--medium: #A8ABAB;
  --neutral--medium-light: #D4D6D6;
  --neutral--light: #F5F5F5;
  --neutral--white: #FFFFFF;
  
  /* Neutral Color Transparency Variants */
  --neutral--dark-80: rgba(0, 86, 84, 0.8);
  --neutral--dark-60: rgba(0, 86, 84, 0.6);
  --neutral--dark-40: rgba(0, 86, 84, 0.4);
  --neutral--dark-20: rgba(0, 86, 84, 0.2);
  --neutral--dark-10: rgba(0, 86, 84, 0.1);
  --neutral--white-80: rgba(255, 255, 255, 0.8);
  --neutral--white-60: rgba(255, 255, 255, 0.6);
  --neutral--white-40: rgba(255, 255, 255, 0.4);
  --neutral--white-20: rgba(255, 255, 255, 0.2);
  --neutral--white-10: rgba(255, 255, 255, 0.1);
  
  /* Card Styles */
  --card-border: var(--neutral--medium-light);
  --card-background-light: var(--neutral--white);
  --card-background-dark: var(--neutral--dark);
  --card-border-hover: var(--neutral--medium-dark);
  
  /* Input Styles */
  --input--border: var(--neutral--medium);
  --input--border-focused: var(--inline-links);
  --input--border-active: var(--neutral--medium-dark);
  --input--border-disabled: var(--neutral--medium-light);
  
  /* Text Colors */
  --headlines: #005654;
  --text: #005654;
  --text--80: rgba(0, 86, 84, 0.8);
  --text--60: rgba(0, 86, 84, 0.6);
  --text-input: #005654;
  
  /* UI Elements */
  --hr: var(--neutral--medium-light);
  
  /* Link Colors */
  --inline-links: #3254c8;
  --inline-links--hover: #7393FF;
  --inline-links--visited: #8C3EFA;
  --menu-links: #005654;
  --menu-links--hover: #00E091;
  --menu-links--active: #005654;
  
  /* Primary Button */
  --btn--primary-fg: var(--neutral--white);
  --btn--primary-fg-hover: var(--neutral--white);
  --btn--primary-bg: var(--primary);
  --btn--primary-bg-hover: var(--primary--medium);
  --btn--primary-stroke: var(--primary--dark);
  
  /* Secondary Button */
  --btn--secondary-fg: var(--neutral--white);
  --btn--secondary-fg-hover: var(--neutral--white);
  --btn--secondary-bg: var(--secondary);
  --btn--secondary-bg-hover: var(--secondary--medium);
  --btn--secondary-stroke: var(--neutral-dark);
  
  /* Tertiary Button */
  --btn--tertiary-fg: var(--neutral--white);
  --btn--tertiary-fg-hover: var(--neutral--white);
  --btn--tertiary-bg: var(--tertiary);
  --btn--tertiary-bg-hover: var(--tertiary--medium);
  --btn--tertiary-stroke: var(--neutral-dark);
  
  /* White Button */
  --btn--white-fg: var(--primary);
  --btn--white-fg-hover: var(--neutral--white);
  --btn--white-bg: var(--neutral--white);
  --btn--white-bg-hover: var(--primary);
  --btn--white-stroke: var(--neutral--white);
  
  color: var(--text);
}

/* Dark Mode Color Theme */
.dark-mode {
  /* Text Colors */
  --headlines: #FFFFFF;
  --text: #FFFFFF;
  --text-input: #FFFFFF;
  
  /* UI Elements */
  --hr: var(--neutral--medium-dark);
  
  /* Link Colors */
  --inline-links: #FFFFFF;
  --inline-links--hover: #70BAFE;
  --inline-links--visited: #FFFFFF;
  --menu-links: #FFFFFF;
  --menu-links--hover: #C0F9E1;
  --menu-links--active: #FFFFFF;
  
  /* Card Styles */
  --card-border: var(--neutral--white);
  --card-background-light: var(--neutral--light);
  --card-border-hover: var(--neutral--white);
  
  /* Button Strokes */
  --btn--primary-stroke: var(--neutral--white);
  --btn--secondary-stroke: var(--neutral--white);
  --btn--tertiary-stroke: var(--neutral--white);
  
  color: var(--text);
}

/* ========== Table Styles ========== */

table {
  width: 100%;
  border-collapse: collapse;
  margin: var(--s-5) 0;
  font-size: var(--b-s);
  font-family: var(--font--body-text);
  background-color: var(--neutral--white);
  border: 1px solid var(--neutral--medium-light);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 86, 84, 0.08);
}

/* Table Header */
thead {
  background-color: var(--primary--extra-light);
}

thead tr {
  border-bottom: 2px solid var(--primary--medium);
}

th {
  padding: var(--s-3) var(--s-4);
  text-align: left;
  font-weight: var(--weight--headlines);
  color: var(--primary--dark);
  font-size: var(--b-s);
  letter-spacing: 0.02em;
  white-space: nowrap;
}

/* Table Body */
tbody tr {
  border-bottom: 1px solid var(--neutral--medium-light);
  transition: background-color 0.15s ease;
}

tbody tr:last-child {
  border-bottom: none;
}

/* Zebra Striping */
tbody tr:nth-child(even) {
  background-color: var(--neutral--light);
}

tbody tr:nth-child(odd) {
  background-color: var(--neutral--white);
}

/* Row Hover Effect */
tbody tr:hover {
  background-color: var(--primary--extra-light);
}

/* Table Cells */
td {
  padding: var(--s-3) var(--s-4);
  color: var(--text);
  vertical-align: top;
  line-height: 1.5;
}

/* Code in Table Cells */
td code,
th code {
  background-color: var(--neutral--light);
  padding: 0.15em 0.4em;
  border-radius: 4px;
  font-size: 0.9em;
  color: var(--tertiary--dark);
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

/* Bold text in first column */
td:first-child strong,
td strong {
  color: var(--primary--dark);
  font-weight: 600;
}

/* Column Groups - ensure proper column widths */
colgroup col {
  min-width: 80px;
}

/* Responsive Table Wrapper */
@media screen and (max-width: 768px) {
  table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  th, td {
    min-width: 120px;
    padding: var(--s-2) var(--s-3);
    font-size: var(--b-xs);
  }
}

/* Dark Mode Table Styles */
.dark-mode table {
  background-color: var(--neutral--dark);
  border-color: var(--neutral--medium-dark);
}

.dark-mode thead {
  background-color: rgba(0, 224, 145, 0.15);
}

.dark-mode thead tr {
  border-bottom-color: var(--primary--medium);
}

.dark-mode th {
  color: var(--primary--medium);
}

.dark-mode tbody tr:nth-child(even) {
  background-color: rgba(255, 255, 255, 0.05);
}

.dark-mode tbody tr:nth-child(odd) {
  background-color: transparent;
}

.dark-mode tbody tr:hover {
  background-color: rgba(0, 224, 145, 0.1);
}

.dark-mode tbody tr {
  border-bottom-color: var(--neutral--medium-dark);
}

.dark-mode td {
  color: var(--text);
}

.dark-mode td code,
.dark-mode th code {
  background-color: rgba(255, 255, 255, 0.1);
  color: var(--primary--light);
}

/* ========== Additional Layout Styles ========== */

/* Body max-width and padding for readability */
body {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--s-6) var(--s-5);
  line-height: 1.6;
  background-color: var(--neutral--white);
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font--headlines);
  font-weight: var(--weight--headlines);
  color: var(--headlines);
  margin-top: var(--s-6);
  margin-bottom: var(--s-4);
  line-height: 1.3;
}

h1 {
  font-size: var(--h-xxl);
  color: var(--primary--dark);
  border-bottom: 3px solid var(--primary);
  padding-bottom: var(--s-3);
  margin-bottom: var(--s-5);
}

h2 {
  font-size: var(--h-xl);
  color: var(--primary--dark);
  border-bottom: 2px solid var(--primary--medium);
  padding-bottom: var(--s-2);
}

h3 {
  font-size: var(--h-l);
  color: var(--primary--dark);
}

h4 {
  font-size: var(--h-m);
}

h5 {
  font-size: var(--h-s);
}

h6 {
  font-size: var(--h-xs);
}

/* Horizontal Rules */
hr {
  border: none;
  border-top: 2px solid var(--hr);
  margin: var(--s-6) 0;
}

/* Paragraphs */
p {
  margin-bottom: var(--s-4);
  font-size: var(--b-m);
}

/* Links */
a {
  color: var(--inline-links);
  text-decoration: none;
  transition: color 0.15s ease;
}

a:hover {
  color: var(--inline-links--hover);
  text-decoration: underline;
}

a:visited {
  color: var(--inline-links--visited);
}

/* Blockquotes */
blockquote {
  border-left: 4px solid var(--primary);
  background-color: var(--primary--extra-light);
  padding: var(--s-4) var(--s-5);
  margin: var(--s-5) 0;
  border-radius: 0 8px 8px 0;
}

blockquote p {
  margin-bottom: 0;
}

/* Lists */
ul, ol {
  margin-bottom: var(--s-4);
  padding-left: var(--s-5);
}

li {
  margin-bottom: var(--s-2);
  line-height: 1.6;
}

/* Nested lists */
ul ul, ol ol, ul ol, ol ul {
  margin-top: var(--s-2);
  margin-bottom: 0;
}

/* Task Lists */
ul.task-list {
  list-style: none;
  padding-left: 0;
}

ul.task-list li {
  padding-left: var(--s-1);
}

/* Inline code */
code {
  background-color: var(--neutral--light);
  padding: 0.15em 0.4em;
  border-radius: 4px;
  font-size: 0.9em;
  color: var(--tertiary--dark);
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

/* Code blocks */
pre {
  background-color: #f8f9fa;
  color: #333333;
  border: 1px solid var(--neutral--medium-light);
  padding: var(--s-4);
  border-radius: 8px;
  overflow-x: auto;
  margin: var(--s-5) 0;
  font-size: var(--b-xs);
  line-height: 1.5;
}

pre code {
  background-color: transparent;
  padding: 0;
  color: inherit;
}

/* Mermaid diagrams */
.mermaid {
  margin: var(--s-5) 0;
  text-align: center;
  background-color: var(--neutral--white);
  padding: var(--s-4);
  border-radius: 8px;
  border: 1px solid var(--neutral--medium-light);
}
  </style>
  <!-- ========== Prism.JS Syntax Highlighting ========== -->

  <!-- Prism theme (choose one theme below) -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism.css"
  />

  <!-- Core Prism library -->
  <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script>

  <!-- Add languages you need -->
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-csharp.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-json.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-sql.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-typescript.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-yaml.js"></script>

  <!-- Automatically highlight code after page load -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      if (window.Prism) {
        Prism.highlightAll();
      }
    });
  </script>

  <!-- ========== Mermaid Rendering ========== -->

  <!-- Use stable UMD build -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Find code blocks that came from ```mermaid fences
      const mermaidCodeBlocks = document.querySelectorAll(
        'pre.mermaid > code, pre > code.language-mermaid'
      );

      mermaidCodeBlocks.forEach(code => {
        const pre = code.parentElement;
        const parent = pre?.parentElement;
        if (!pre || !parent) return;

        const text = (code.textContent || '').trim();
        if (!text) return;

        // Replace <pre><code> with <div class="mermaid">...</div>
        const div = document.createElement('div');
        div.className = 'mermaid';
        div.textContent = text;

        parent.replaceChild(div, pre);
      });

      mermaid.initialize({
        startOnLoad: true
      });
    });
  </script>
  <!-- Navigation CSS and JS -->
  <link rel="stylesheet" href="navigation.css" />
  <script src="navigation.js" defer></script>
  <script src="/auth-check.js"></script>
</head>
<body>
<h1 id="bundle-calculation-specification">Bundle Calculation
Specification</h1>
<p><strong>Version:</strong> 1.0<br />
<strong>Last Updated:</strong> January 15, 2026<br />
<strong>Author:</strong> Andy Bratton<br />
<strong>Status:</strong> Planning Phase<br />
<strong>Parent Document:</strong> <a
href="01-AZURE-PEM-MASTER-PLAN.html">01-AZURE-PEM-MASTER-PLAN.md</a></p>
<hr />
<h2 id="overview">Overview</h2>
<p>This document specifies the bundle calculation rules engine for the
Azure PEM system. Bundle calculation determines the expected
reimbursement for an episode of care based on contract terms, claim
data, and configurable pricing rules.</p>
<h3 id="purpose">Purpose</h3>
<p>The bundle calculation engine: - Calculates expected payment based on
contract-specific pricing rules - Handles complex scenarios (partial
bundles, exclusions, carve-outs) - Provides complete audit trails for
every calculation - Supports “what-if” modeling for contract
negotiations</p>
<h3 id="key-principles">Key Principles</h3>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr>
<th>Principle</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Deterministic</strong></td>
<td>Same inputs always produce same outputs</td>
</tr>
<tr>
<td><strong>Auditable</strong></td>
<td>Every calculation decision is logged with reasoning</td>
</tr>
<tr>
<td><strong>Configurable</strong></td>
<td>Rules are data-driven, not hard-coded</td>
</tr>
<tr>
<td><strong>Versioned</strong></td>
<td>Rule changes are tracked; historical calculations reproducible</td>
</tr>
<tr>
<td><strong>Performant</strong></td>
<td>Complex calculations complete in &lt; 5 seconds</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="architecture-overview">Architecture Overview</h2>
<p><strong>Bundle Calculation Architecture</strong></p>
<pre class="mermaid"><code>%%{init: {&#39;theme&#39;: &#39;default&#39;}}%%
flowchart LR
    subgraph INPUTS[&quot;INPUTS&quot;]
        EP[&quot;Episode&lt;br/&gt;(Claims, Providers, Dates)&quot;]
        CP[&quot;Contract Profile&lt;br/&gt;(Pricing Rules)&quot;]
        ED[&quot;Episode Definition&lt;br/&gt;(Bundle Rules)&quot;]
    end

    subgraph ENGINE[&quot;CALCULATION ENGINE&quot;]
        STEPS[&quot;1. Input Validator&lt;br/&gt;2. Claim Classifier&lt;br/&gt;3. Pricing Engine&lt;br/&gt;4. Bundle Aggregator&lt;br/&gt;5. Adjustment Engine&quot;]
    end

    subgraph OUTPUTS[&quot;OUTPUTS&quot;]
        BR[&quot;Bundle Result&lt;br/&gt;(Expected Amount)&quot;]
        CA[&quot;Calculation Audit&lt;br/&gt;(Decision Log)&quot;]
        LI[&quot;Line-Item Breakdown&quot;]
    end

    EP --&gt; ENGINE
    CP --&gt; ENGINE
    ED --&gt; ENGINE
    ENGINE --&gt; OUTPUTS</code></pre>
<hr />
<h2 id="contract-profile-configuration">Contract Profile
Configuration</h2>
<h3 id="contract-profile-structure">Contract Profile Structure</h3>
<p>Each contract profile defines how episodes are priced for a specific
payer/contract combination:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;contract-profile-001&quot;</span><span class="fu">,</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tenantId&quot;</span><span class="fu">:</span> <span class="st">&quot;tenant-abc&quot;</span><span class="fu">,</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;BlueCross PPO - Joint Replacement Bundle&quot;</span><span class="fu">,</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;payerId&quot;</span><span class="fu">:</span> <span class="st">&quot;BCBS-001&quot;</span><span class="fu">,</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;effectiveDate&quot;</span><span class="fu">:</span> <span class="st">&quot;2026-01-01&quot;</span><span class="fu">,</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;terminationDate&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">,</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;Active&quot;</span><span class="fu">,</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;bundleConfiguration&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;basePricingMethod&quot;</span><span class="fu">:</span> <span class="st">&quot;CaseRate&quot;</span><span class="fu">,</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;baseCaseRate&quot;</span><span class="fu">:</span> <span class="fl">25000.00</span><span class="fu">,</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;currency&quot;</span><span class="fu">:</span> <span class="st">&quot;USD&quot;</span><span class="fu">,</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;includedServices&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;method&quot;</span><span class="fu">:</span> <span class="st">&quot;CategoryBased&quot;</span><span class="fu">,</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;categories&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Facility&quot;</span><span class="ot">,</span> <span class="st">&quot;Surgeon&quot;</span><span class="ot">,</span> <span class="st">&quot;Anesthesia&quot;</span><span class="ot">,</span> <span class="st">&quot;Implants&quot;</span><span class="ot">,</span> <span class="st">&quot;Rehab&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;daysPreAdmit&quot;</span><span class="fu">:</span> <span class="dv">30</span><span class="fu">,</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;daysPostDischarge&quot;</span><span class="fu">:</span> <span class="dv">90</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;excludedServices&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;categories&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Pharmacy-Specialty&quot;</span><span class="ot">,</span> <span class="st">&quot;DME-Custom&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;cptCodes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;99285&quot;</span><span class="ot">,</span> <span class="st">&quot;99291&quot;</span><span class="ot">,</span> <span class="st">&quot;99292&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;revenueCodeRanges&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span> <span class="dt">&quot;start&quot;</span><span class="fu">:</span> <span class="st">&quot;0450&quot;</span><span class="fu">,</span> <span class="dt">&quot;end&quot;</span><span class="fu">:</span> <span class="st">&quot;0459&quot;</span> <span class="fu">}</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>      <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;diagnosisCodes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;T84.0*&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;providers&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;out-of-network&quot;</span><span class="ot">]</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;carveOuts&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;High-Cost Implants&quot;</span><span class="fu">,</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;condition&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;ChargeThreshold&quot;</span><span class="fu">,</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;chargeField&quot;</span><span class="fu">:</span> <span class="st">&quot;implantCharges&quot;</span><span class="fu">,</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;threshold&quot;</span><span class="fu">:</span> <span class="fl">15000.00</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>        <span class="fu">},</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;pricing&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;method&quot;</span><span class="fu">:</span> <span class="st">&quot;InvoicePlus&quot;</span><span class="fu">,</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;invoiceMarkup&quot;</span><span class="fu">:</span> <span class="fl">0.10</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;adjustments&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Complication Adjustment&quot;</span><span class="fu">,</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;trigger&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;DiagnosisPresent&quot;</span><span class="fu">,</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;codes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;T81.4*&quot;</span><span class="ot">,</span> <span class="st">&quot;T84.5*&quot;</span><span class="ot">]</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>        <span class="fu">},</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;adjustment&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;Percentage&quot;</span><span class="fu">,</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="fl">0.15</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Length of Stay Outlier&quot;</span><span class="fu">,</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;trigger&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;LOSExceeds&quot;</span><span class="fu">,</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;threshold&quot;</span><span class="fu">:</span> <span class="dv">5</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>        <span class="fu">},</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;adjustment&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;PerDiem&quot;</span><span class="fu">,</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;perDiemRate&quot;</span><span class="fu">:</span> <span class="fl">1500.00</span><span class="fu">,</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;startDay&quot;</span><span class="fu">:</span> <span class="dv">6</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;qualityIncentives&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;No Readmission Bonus&quot;</span><span class="fu">,</span></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;condition&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;NoReadmission&quot;</span><span class="fu">,</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;windowDays&quot;</span><span class="fu">:</span> <span class="dv">30</span></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>        <span class="fu">},</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;incentive&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;Percentage&quot;</span><span class="fu">,</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="fl">0.02</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;ruleEngine&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;precedenceOrder&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;Exclusions&quot;</span><span class="ot">,</span></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;CarveOuts&quot;</span><span class="ot">,</span> </span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;BasePrice&quot;</span><span class="ot">,</span></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;Adjustments&quot;</span><span class="ot">,</span></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;QualityIncentives&quot;</span><span class="ot">,</span></span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;StopLoss&quot;</span></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;conflictResolution&quot;</span><span class="fu">:</span> <span class="st">&quot;HighestSpecificity&quot;</span><span class="fu">,</span></span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;roundingRule&quot;</span><span class="fu">:</span> <span class="st">&quot;HalfUp&quot;</span><span class="fu">,</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;roundingPrecision&quot;</span><span class="fu">:</span> <span class="dv">2</span></span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;stopLoss&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;minimumPayment&quot;</span><span class="fu">:</span> <span class="fl">18000.00</span><span class="fu">,</span></span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;maximumPayment&quot;</span><span class="fu">:</span> <span class="fl">75000.00</span></span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="pricing-methods">Pricing Methods</h3>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 41%" />
<col style="width: 32%" />
</colgroup>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>CaseRate</strong></td>
<td>Fixed amount per episode</td>
<td>Standard bundled payments</td>
</tr>
<tr>
<td><strong>PerDiem</strong></td>
<td>Daily rate × length of stay</td>
<td>Certain facility contracts</td>
</tr>
<tr>
<td><strong>FeeSchedule</strong></td>
<td>Sum of allowed amounts per CPT</td>
<td>Traditional fee-for-service</td>
</tr>
<tr>
<td><strong>DRG-Based</strong></td>
<td>Base rate × DRG weight</td>
<td>Hospital facility fees</td>
</tr>
<tr>
<td><strong>InvoicePlus</strong></td>
<td>Invoice cost + markup %</td>
<td>Implants, specialty drugs</td>
</tr>
<tr>
<td><strong>Percentage</strong></td>
<td>% of charges or allowed</td>
<td>Certain payer arrangements</td>
</tr>
<tr>
<td><strong>Tiered</strong></td>
<td>Different rates by volume</td>
<td>Volume-based discounts</td>
</tr>
</tbody>
</table>
<h3 id="service-category-configuration">Service Category
Configuration</h3>
<div class="sourceCode" id="cb3"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;serviceCategories&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;Facility&quot;</span><span class="fu">,</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Facility Charges&quot;</span><span class="fu">,</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;includesCriteria&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;billTypes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;11*&quot;</span><span class="ot">,</span> <span class="st">&quot;12*&quot;</span><span class="ot">,</span> <span class="st">&quot;13*&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;revenueCodeRanges&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>          <span class="fu">{</span> <span class="dt">&quot;start&quot;</span><span class="fu">:</span> <span class="st">&quot;0100&quot;</span><span class="fu">,</span> <span class="dt">&quot;end&quot;</span><span class="fu">:</span> <span class="st">&quot;0999&quot;</span> <span class="fu">}</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        <span class="ot">]</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;Surgeon&quot;</span><span class="fu">,</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Surgeon Professional&quot;</span><span class="fu">,</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;includesCriteria&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;claimTypes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Professional&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;taxonomyCodes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;207X*&quot;</span><span class="ot">,</span> <span class="st">&quot;208*&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;cptCodeRanges&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>          <span class="fu">{</span> <span class="dt">&quot;start&quot;</span><span class="fu">:</span> <span class="st">&quot;27000&quot;</span><span class="fu">,</span> <span class="dt">&quot;end&quot;</span><span class="fu">:</span> <span class="st">&quot;27899&quot;</span> <span class="fu">}</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>        <span class="ot">]</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;Anesthesia&quot;</span><span class="fu">,</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Anesthesia Services&quot;</span><span class="fu">,</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;includesCriteria&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;claimTypes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Professional&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;cptCodeRanges&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>          <span class="fu">{</span> <span class="dt">&quot;start&quot;</span><span class="fu">:</span> <span class="st">&quot;00100&quot;</span><span class="fu">,</span> <span class="dt">&quot;end&quot;</span><span class="fu">:</span> <span class="st">&quot;01999&quot;</span> <span class="fu">}</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>        <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;modifiers&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;AA&quot;</span><span class="ot">,</span> <span class="st">&quot;QK&quot;</span><span class="ot">,</span> <span class="st">&quot;QX&quot;</span><span class="ot">,</span> <span class="st">&quot;QY&quot;</span><span class="ot">,</span> <span class="st">&quot;QZ&quot;</span><span class="ot">]</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;Implants&quot;</span><span class="fu">,</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Implants and Devices&quot;</span><span class="fu">,</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;includesCriteria&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;revenueCodeRanges&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>          <span class="fu">{</span> <span class="dt">&quot;start&quot;</span><span class="fu">:</span> <span class="st">&quot;0274&quot;</span><span class="fu">,</span> <span class="dt">&quot;end&quot;</span><span class="fu">:</span> <span class="st">&quot;0279&quot;</span> <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>          <span class="fu">{</span> <span class="dt">&quot;start&quot;</span><span class="fu">:</span> <span class="st">&quot;0624&quot;</span><span class="fu">,</span> <span class="dt">&quot;end&quot;</span><span class="fu">:</span> <span class="st">&quot;0624&quot;</span> <span class="fu">}</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>        <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;hcpcsCodes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;C1776&quot;</span><span class="ot">,</span> <span class="st">&quot;C1779&quot;</span><span class="ot">,</span> <span class="st">&quot;C2622&quot;</span><span class="ot">]</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;code&quot;</span><span class="fu">:</span> <span class="st">&quot;Rehab&quot;</span><span class="fu">,</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Rehabilitation Services&quot;</span><span class="fu">,</span></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;includesCriteria&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;placeOfService&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;31&quot;</span><span class="ot">,</span> <span class="st">&quot;32&quot;</span><span class="ot">,</span> <span class="st">&quot;34&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;cptCodeRanges&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>          <span class="fu">{</span> <span class="dt">&quot;start&quot;</span><span class="fu">:</span> <span class="st">&quot;97001&quot;</span><span class="fu">,</span> <span class="dt">&quot;end&quot;</span><span class="fu">:</span> <span class="st">&quot;97799&quot;</span> <span class="fu">}</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>        <span class="ot">]</span></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="rule-precedence-and-conflict-resolution">Rule Precedence and
Conflict Resolution</h2>
<h3 id="rule-evaluation-order">Rule Evaluation Order</h3>
<p>Rules are evaluated in a strict order to ensure deterministic
results:</p>
<p><strong>Rule Evaluation Order</strong></p>
<table>
<thead>
<tr>
<th>Order</th>
<th>Rule Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong>Exclusion Rules</strong></td>
<td>Remove from bundle</td>
</tr>
<tr>
<td>2</td>
<td><strong>Carve-Out Rules</strong></td>
<td>Price separately</td>
</tr>
<tr>
<td>3</td>
<td><strong>Base Pricing</strong></td>
<td>Calculate core bundle</td>
</tr>
<tr>
<td>4</td>
<td><strong>Adjustment Rules</strong></td>
<td>Modify base price</td>
</tr>
<tr>
<td>5</td>
<td><strong>Quality Incentives</strong></td>
<td>Add/subtract bonuses</td>
</tr>
<tr>
<td>6</td>
<td><strong>Stop-Loss Rules</strong></td>
<td>Apply min/max</td>
</tr>
</tbody>
</table>
<h3 id="conflict-resolution-strategies">Conflict Resolution
Strategies</h3>
<p>When multiple rules could apply to the same claim or calculation:</p>
<table>
<colgroup>
<col style="width: 27%" />
<col style="width: 35%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr>
<th>Strategy</th>
<th>Description</th>
<th>When Applied</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>HighestSpecificity</strong></td>
<td>Most specific rule wins</td>
<td>CPT code rule &gt; category rule &gt; default</td>
</tr>
<tr>
<td><strong>FirstMatch</strong></td>
<td>First matching rule in sequence</td>
<td>Ordered exclusion lists</td>
</tr>
<tr>
<td><strong>MostFavorable</strong></td>
<td>Rule producing highest payment</td>
<td>Quality incentives</td>
</tr>
<tr>
<td><strong>LeastFavorable</strong></td>
<td>Rule producing lowest payment</td>
<td>Penalty conditions</td>
</tr>
<tr>
<td><strong>Aggregate</strong></td>
<td>All matching rules apply cumulatively</td>
<td>Adjustment stacking</td>
</tr>
</tbody>
</table>
<h3 id="specificity-scoring">Specificity Scoring</h3>
<div class="sourceCode" id="cb4"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> RuleSpecificityCalculator</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">CalculateSpecificity</span><span class="op">(</span>PricingRule rule<span class="op">)</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> score <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">// More specific criteria = higher score</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rule<span class="op">.</span><span class="fu">Criteria</span><span class="op">.</span><span class="fu">HasExactCptCode</span><span class="op">)</span> score <span class="op">+=</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rule<span class="op">.</span><span class="fu">Criteria</span><span class="op">.</span><span class="fu">HasCptCodeRange</span><span class="op">)</span> score <span class="op">+=</span> <span class="dv">50</span><span class="op">;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rule<span class="op">.</span><span class="fu">Criteria</span><span class="op">.</span><span class="fu">HasRevenueCode</span><span class="op">)</span> score <span class="op">+=</span> <span class="dv">40</span><span class="op">;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rule<span class="op">.</span><span class="fu">Criteria</span><span class="op">.</span><span class="fu">HasDiagnosisCode</span><span class="op">)</span> score <span class="op">+=</span> <span class="dv">30</span><span class="op">;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rule<span class="op">.</span><span class="fu">Criteria</span><span class="op">.</span><span class="fu">HasServiceCategory</span><span class="op">)</span> score <span class="op">+=</span> <span class="dv">20</span><span class="op">;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rule<span class="op">.</span><span class="fu">Criteria</span><span class="op">.</span><span class="fu">HasProviderType</span><span class="op">)</span> score <span class="op">+=</span> <span class="dv">15</span><span class="op">;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rule<span class="op">.</span><span class="fu">Criteria</span><span class="op">.</span><span class="fu">HasPlaceOfService</span><span class="op">)</span> score <span class="op">+=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rule<span class="op">.</span><span class="fu">Criteria</span><span class="op">.</span><span class="fu">HasModifier</span><span class="op">)</span> score <span class="op">+=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Date specificity</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rule<span class="op">.</span><span class="fu">HasDateRange</span><span class="op">)</span> score <span class="op">+=</span> <span class="dv">25</span><span class="op">;</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Provider specificity</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rule<span class="op">.</span><span class="fu">HasSpecificProviderId</span><span class="op">)</span> score <span class="op">+=</span> <span class="dv">50</span><span class="op">;</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rule<span class="op">.</span><span class="fu">HasProviderTaxonomy</span><span class="op">)</span> score <span class="op">+=</span> <span class="dv">20</span><span class="op">;</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> score<span class="op">;</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="rule-conflict-example">Rule Conflict Example</h3>
<pre><code>Scenario: A claim has CPT 27447 (Total Knee Replacement)

Rule A (Category): &quot;All Surgeon Professional claims → Include in bundle&quot;
  Specificity: 20 (ServiceCategory only)

Rule B (CPT Range): &quot;CPT 27000-27899 → Include at 80% of allowed&quot;
  Specificity: 50 (CPT Range)

Rule C (Exact CPT): &quot;CPT 27447 → Include at fixed rate $4,500&quot;
  Specificity: 100 (Exact CPT)

Resolution: Rule C wins (highest specificity)</code></pre>
<h3 id="adjustment-stacking-rules">Adjustment Stacking Rules</h3>
<p>Adjustments can stack (apply cumulatively) or be mutually
exclusive:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;adjustmentGroups&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;groupName&quot;</span><span class="fu">:</span> <span class="st">&quot;Complications&quot;</span><span class="fu">,</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;stackingBehavior&quot;</span><span class="fu">:</span> <span class="st">&quot;Aggregate&quot;</span><span class="fu">,</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;maxAdjustment&quot;</span><span class="fu">:</span> <span class="fl">0.50</span><span class="fu">,</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;adjustments&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span> <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Minor Complication&quot;</span><span class="fu">,</span> <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="fl">0.10</span> <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span> <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Major Complication&quot;</span><span class="fu">,</span> <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="fl">0.25</span> <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span> <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Infection&quot;</span><span class="fu">,</span> <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="fl">0.15</span> <span class="fu">}</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>      <span class="ot">]</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;groupName&quot;</span><span class="fu">:</span> <span class="st">&quot;LOS&quot;</span><span class="fu">,</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;stackingBehavior&quot;</span><span class="fu">:</span> <span class="st">&quot;MutuallyExclusive&quot;</span><span class="fu">,</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;adjustments&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span> <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Short Stay (&lt; 2 days)&quot;</span><span class="fu">,</span> <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="fl">-0.10</span> <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span> <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Standard Stay (2-5 days)&quot;</span><span class="fu">,</span> <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="dv">0</span> <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">{</span> <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Extended Stay (&gt; 5 days)&quot;</span><span class="fu">,</span> <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="st">&quot;PerDiem&quot;</span> <span class="fu">}</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>      <span class="ot">]</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="edge-cases-and-special-scenarios">Edge Cases and Special
Scenarios</h2>
<h3 id="partial-bundles">Partial Bundles</h3>
<p>A partial bundle occurs when not all expected bundle components are
present:</p>
<p><strong>Complete vs Partial Bundle</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Complete Bundle</th>
<th>Partial Bundle</th>
</tr>
</thead>
<tbody>
<tr>
<td>Facility</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Surgeon</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>Anesthesia</td>
<td>✅</td>
<td>❌ Missing</td>
</tr>
<tr>
<td>Rehab</td>
<td>✅</td>
<td>❌ Missing</td>
</tr>
</tbody>
</table>
<p><strong>Partial Bundle Configuration:</strong></p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;partialBundleRules&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;minimumComponentsRequired&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;requiredComponents&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Facility&quot;</span><span class="ot">,</span> <span class="st">&quot;Surgeon&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;pricingMethod&quot;</span><span class="fu">:</span> <span class="st">&quot;ProRated&quot;</span><span class="fu">,</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;componentWeights&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Facility&quot;</span><span class="fu">:</span> <span class="fl">0.50</span><span class="fu">,</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Surgeon&quot;</span><span class="fu">:</span> <span class="fl">0.25</span><span class="fu">,</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Anesthesia&quot;</span><span class="fu">:</span> <span class="fl">0.10</span><span class="fu">,</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Implants&quot;</span><span class="fu">:</span> <span class="fl">0.10</span><span class="fu">,</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Rehab&quot;</span><span class="fu">:</span> <span class="fl">0.05</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;missingComponentHandling&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;method&quot;</span><span class="fu">:</span> <span class="st">&quot;ReduceByWeight&quot;</span><span class="fu">,</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;alternativeMethod&quot;</span><span class="fu">:</span> <span class="st">&quot;FeeScheduleFallback&quot;</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;alerts&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;partialBundleThreshold&quot;</span><span class="fu">:</span> <span class="fl">0.70</span><span class="fu">,</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;notifyRoles&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Bundle Analyst&quot;</span><span class="ot">,</span> <span class="st">&quot;Case Manager&quot;</span><span class="ot">]</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Partial Bundle Calculation Example:</strong></p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> PartialBundleCalculator</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> BundleResult <span class="fu">CalculatePartialBundle</span><span class="op">(</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        Episode episode<span class="op">,</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        ContractProfile contract<span class="op">,</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        IReadOnlyList<span class="op">&lt;</span>ClassifiedClaim<span class="op">&gt;</span> claims<span class="op">)</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> presentCategories <span class="op">=</span> claims</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">Select</span><span class="op">(</span>c <span class="op">=&gt;</span> c<span class="op">.</span><span class="fu">ServiceCategory</span><span class="op">)</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">Distinct</span><span class="op">()</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">ToHashSet</span><span class="op">();</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> allCategories <span class="op">=</span> contract<span class="op">.</span><span class="fu">BundleConfiguration</span><span class="op">.</span><span class="fu">IncludedServices</span><span class="op">.</span><span class="fu">Categories</span><span class="op">;</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> missingCategories <span class="op">=</span> allCategories<span class="op">.</span><span class="fu">Except</span><span class="op">(</span>presentCategories<span class="op">).</span><span class="fu">ToList</span><span class="op">();</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Check if minimum requirements met</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> requiredPresent <span class="op">=</span> contract<span class="op">.</span><span class="fu">PartialBundleRules</span><span class="op">.</span><span class="fu">RequiredComponents</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">All</span><span class="op">(</span>r <span class="op">=&gt;</span> presentCategories<span class="op">.</span><span class="fu">Contains</span><span class="op">(</span>r<span class="op">));</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(!</span>requiredPresent<span class="op">)</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> BundleResult<span class="op">.</span><span class="fu">NotEligible</span><span class="op">(</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;Missing required bundle components: &quot;</span> <span class="op">+</span> </span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>                <span class="dt">string</span><span class="op">.</span><span class="fu">Join</span><span class="op">(</span><span class="st">&quot;, &quot;</span><span class="op">,</span> contract<span class="op">.</span><span class="fu">PartialBundleRules</span><span class="op">.</span><span class="fu">RequiredComponents</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span><span class="fu">Except</span><span class="op">(</span>presentCategories<span class="op">)));</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Calculate pro-rated amount</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> weights <span class="op">=</span> contract<span class="op">.</span><span class="fu">PartialBundleRules</span><span class="op">.</span><span class="fu">ComponentWeights</span><span class="op">;</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> presentWeight <span class="op">=</span> presentCategories<span class="op">.</span><span class="fu">Sum</span><span class="op">(</span>c <span class="op">=&gt;</span> weights<span class="op">.</span><span class="fu">GetValueOrDefault</span><span class="op">(</span>c<span class="op">,</span> <span class="dv">0</span><span class="op">));</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> totalWeight <span class="op">=</span> weights<span class="op">.</span><span class="fu">Values</span><span class="op">.</span><span class="fu">Sum</span><span class="op">();</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> proRatedFactor <span class="op">=</span> presentWeight <span class="op">/</span> totalWeight<span class="op">;</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> baseCaseRate <span class="op">=</span> contract<span class="op">.</span><span class="fu">BundleConfiguration</span><span class="op">.</span><span class="fu">BaseCaseRate</span><span class="op">;</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> partialAmount <span class="op">=</span> baseCaseRate <span class="op">*</span> proRatedFactor<span class="op">;</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> <span class="kw">new</span> BundleResult</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>            CalculationType <span class="op">=</span> <span class="st">&quot;PartialBundle&quot;</span><span class="op">,</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>            BaseAmount <span class="op">=</span> baseCaseRate<span class="op">,</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>            AdjustedAmount <span class="op">=</span> partialAmount<span class="op">,</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>            ProRatedFactor <span class="op">=</span> proRatedFactor<span class="op">,</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>            PresentComponents <span class="op">=</span> presentCategories<span class="op">.</span><span class="fu">ToList</span><span class="op">(),</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>            MissingComponents <span class="op">=</span> missingCategories<span class="op">,</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>            AuditEntries <span class="op">=</span> </span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>                <span class="kw">new</span> <span class="fu">AuditEntry</span><span class="op">(</span><span class="st">&quot;PartialBundle&quot;</span><span class="op">,</span> </span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>                    $<span class="st">&quot;Pro-rated to {proRatedFactor:P0} due to missing: {string.Join(&quot;</span><span class="op">,</span> <span class="st">&quot;, missingCategories)}&quot;</span><span class="op">)</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="unbundling">Unbundling</h3>
<p>Unbundling removes claims from a bundle, typically due to exclusions
or carve-outs:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;unbundlingRules&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Readmission Unbundle&quot;</span><span class="fu">,</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Readmission within 30 days unbundles from original episode&quot;</span><span class="fu">,</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;trigger&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;Readmission&quot;</span><span class="fu">,</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;windowDays&quot;</span><span class="fu">:</span> <span class="dv">30</span><span class="fu">,</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;relatedDiagnoses&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">},</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;action&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;CreateSeparateEpisode&quot;</span><span class="fu">,</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;linkToOriginal&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;pricingOverride&quot;</span><span class="fu">:</span> <span class="st">&quot;ReadmissionRate&quot;</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Unrelated Diagnosis Unbundle&quot;</span><span class="fu">,</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Claims with unrelated diagnoses unbundle&quot;</span><span class="fu">,</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;trigger&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;DiagnosisNotInList&quot;</span><span class="fu">,</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;diagnosisCodeSets&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;BundledDxCodes&quot;</span><span class="ot">]</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">},</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;action&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;ExcludeFromBundle&quot;</span><span class="fu">,</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;pricingMethod&quot;</span><span class="fu">:</span> <span class="st">&quot;FeeSchedule&quot;</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Provider Network Unbundle&quot;</span><span class="fu">,</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Out-of-network providers unbundle&quot;</span><span class="fu">,</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;trigger&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;ProviderOutOfNetwork&quot;</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">},</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;action&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;ExcludeFromBundle&quot;</span><span class="fu">,</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;pricingMethod&quot;</span><span class="fu">:</span> <span class="st">&quot;ContractedRate&quot;</span><span class="fu">,</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;flag&quot;</span><span class="fu">:</span> <span class="st">&quot;ReviewRequired&quot;</span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Unbundling Decision Flow:</strong></p>
<p><strong>Claim Classification Decision Tree</strong></p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 35%" />
<col style="width: 22%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr>
<th>Check</th>
<th>Condition</th>
<th>Yes →</th>
<th>No →</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Within Episode Date Window?</td>
<td>Continue to #2</td>
<td>→ Unbundle (Price Separately)</td>
</tr>
<tr>
<td>2</td>
<td>Related Diagnosis?</td>
<td>Continue to #3</td>
<td>→ Unbundle (Price Separately)</td>
</tr>
<tr>
<td>3</td>
<td>In-Network Provider?</td>
<td>Continue to #4</td>
<td>→ Unbundle (Price Separately)</td>
</tr>
<tr>
<td>4</td>
<td>Excluded Service?</td>
<td>→ Exclude Entirely</td>
<td>→ <strong>Include in Bundle</strong> ✅</td>
</tr>
</tbody>
</table>
<h3 id="rebundling">Rebundling</h3>
<p>Rebundling occurs when previously separate claims are combined into a
bundle:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;rebundlingRules&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;scenarios&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Late Claim Arrival&quot;</span><span class="fu">,</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Claims arriving after initial calculation trigger rebundle&quot;</span><span class="fu">,</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;trigger&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;NewClaimForEpisode&quot;</span><span class="fu">,</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;maxDaysAfterClose&quot;</span><span class="fu">:</span> <span class="dv">180</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">},</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;action&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;recalculateBundle&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;adjustPriorPayments&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;createVariance&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Claim Correction&quot;</span><span class="fu">,</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Corrected claims replace originals and trigger rebundle&quot;</span><span class="fu">,</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;trigger&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;ClaimReplacement&quot;</span><span class="fu">,</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;frequencyTypes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;7&quot;</span><span class="ot">,</span> <span class="st">&quot;8&quot;</span><span class="ot">]</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">},</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;action&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;recalculateBundle&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;voidOriginalClaim&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;rebundlingLimits&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;maxRebundlesPerEpisode&quot;</span><span class="fu">:</span> <span class="dv">5</span><span class="fu">,</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;rebundleWindowDays&quot;</span><span class="fu">:</span> <span class="dv">365</span><span class="fu">,</span></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;requireApprovalAfter&quot;</span><span class="fu">:</span> <span class="dv">3</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><strong>Rebundling Process:</strong></p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> RebundlingService</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> async Task<span class="op">&lt;</span>RebundleResult<span class="op">&gt;</span> <span class="fu">ProcessRebundleAsync</span><span class="op">(</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        Episode episode<span class="op">,</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        Claim newClaim<span class="op">,</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>        CancellationToken ct <span class="op">=</span> <span class="kw">default</span><span class="op">)</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> existingCalculation <span class="op">=</span> await _calculationRepository</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">GetLatestAsync</span><span class="op">(</span>episode<span class="op">.</span><span class="fu">Id</span><span class="op">,</span> ct<span class="op">);</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Check rebundling limits</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> rebundleCount <span class="op">=</span> await _calculationRepository</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">GetRebundleCountAsync</span><span class="op">(</span>episode<span class="op">.</span><span class="fu">Id</span><span class="op">,</span> ct<span class="op">);</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>rebundleCount <span class="op">&gt;=</span> _config<span class="op">.</span><span class="fu">MaxRebundlesPerEpisode</span><span class="op">)</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> RebundleResult<span class="op">.</span><span class="fu">RequiresApproval</span><span class="op">(</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>                $<span class="st">&quot;Episode has been rebundled {rebundleCount} times. Manual approval required.&quot;</span><span class="op">);</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Add new claim to episode</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>        episode<span class="op">.</span><span class="fu">AddClaim</span><span class="op">(</span>newClaim<span class="op">);</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Recalculate with all claims</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> newCalculation <span class="op">=</span> await _calculationEngine</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">CalculateAsync</span><span class="op">(</span>episode<span class="op">,</span> ct<span class="op">);</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Calculate variance</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> variance <span class="op">=</span> <span class="kw">new</span> CalculationVariance</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>            PriorAmount <span class="op">=</span> existingCalculation<span class="op">.</span><span class="fu">FinalAmount</span><span class="op">,</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>            NewAmount <span class="op">=</span> newCalculation<span class="op">.</span><span class="fu">FinalAmount</span><span class="op">,</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>            Difference <span class="op">=</span> newCalculation<span class="op">.</span><span class="fu">FinalAmount</span> <span class="op">-</span> existingCalculation<span class="op">.</span><span class="fu">FinalAmount</span><span class="op">,</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>            Reason <span class="op">=</span> $<span class="st">&quot;Rebundle due to new claim {newClaim.ClaimNumber}&quot;</span><span class="op">,</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>            NewClaimCategories <span class="op">=</span> newClaim<span class="op">.</span><span class="fu">ServiceCategories</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Store with audit trail</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>        newCalculation<span class="op">.</span><span class="fu">PriorCalculationId</span> <span class="op">=</span> existingCalculation<span class="op">.</span><span class="fu">Id</span><span class="op">;</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>        newCalculation<span class="op">.</span><span class="fu">RebundleSequence</span> <span class="op">=</span> rebundleCount <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>        newCalculation<span class="op">.</span><span class="fu">Variance</span> <span class="op">=</span> variance<span class="op">;</span></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>        await _calculationRepository<span class="op">.</span><span class="fu">SaveAsync</span><span class="op">(</span>newCalculation<span class="op">,</span> ct<span class="op">);</span></span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> RebundleResult<span class="op">.</span><span class="fu">Success</span><span class="op">(</span>newCalculation<span class="op">,</span> variance<span class="op">);</span></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<hr />
<h2 id="excluded-claims-handling">Excluded Claims Handling</h2>
<h3 id="exclusion-categories">Exclusion Categories</h3>
<table style="width:100%;">
<colgroup>
<col style="width: 42%" />
<col style="width: 34%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Exclusion Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Category Exclusion</strong></td>
<td>Entire service category excluded</td>
<td>Specialty Pharmacy</td>
</tr>
<tr>
<td><strong>Code Exclusion</strong></td>
<td>Specific CPT/HCPCS/Revenue codes</td>
<td>Emergency room codes</td>
</tr>
<tr>
<td><strong>Diagnosis Exclusion</strong></td>
<td>Claims with certain diagnoses</td>
<td>Pre-existing conditions</td>
</tr>
<tr>
<td><strong>Provider Exclusion</strong></td>
<td>Specific providers or networks</td>
<td>Out-of-network</td>
</tr>
<tr>
<td><strong>Date Exclusion</strong></td>
<td>Claims outside date window</td>
<td>Pre-30 days, Post-90 days</td>
</tr>
<tr>
<td><strong>Amount Exclusion</strong></td>
<td>Claims below/above thresholds</td>
<td>Charges &lt; $50</td>
</tr>
</tbody>
</table>
<h3 id="exclusion-processing">Exclusion Processing</h3>
<div class="sourceCode" id="cb12"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> ExclusionProcessor</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> ExclusionResult <span class="fu">ProcessExclusions</span><span class="op">(</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>        Claim claim<span class="op">,</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>        ContractProfile contract<span class="op">,</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>        Episode episode<span class="op">)</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> exclusions <span class="op">=</span> <span class="kw">new</span> List<span class="op">&lt;</span>ExclusionReason<span class="op">&gt;();</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 1. Date Window Check</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> windowStart <span class="op">=</span> episode<span class="op">.</span><span class="fu">TriggerDate</span><span class="op">.</span><span class="fu">AddDays</span><span class="op">(-</span>contract<span class="op">.</span><span class="fu">DaysPreAdmit</span><span class="op">);</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> windowEnd <span class="op">=</span> episode<span class="op">.</span><span class="fu">DischargeDate</span><span class="op">?.</span><span class="fu">AddDays</span><span class="op">(</span>contract<span class="op">.</span><span class="fu">DaysPostDischarge</span><span class="op">)</span> </span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>                        <span class="op">??</span> episode<span class="op">.</span><span class="fu">TriggerDate</span><span class="op">.</span><span class="fu">AddDays</span><span class="op">(</span>contract<span class="op">.</span><span class="fu">DaysPostDischarge</span><span class="op">);</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>claim<span class="op">.</span><span class="fu">ServiceDate</span> <span class="op">&lt;</span> windowStart <span class="op">||</span> claim<span class="op">.</span><span class="fu">ServiceDate</span> <span class="op">&gt;</span> windowEnd<span class="op">)</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>            exclusions<span class="op">.</span><span class="fu">Add</span><span class="op">(</span><span class="kw">new</span> ExclusionReason</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>                Type <span class="op">=</span> ExclusionType<span class="op">.</span><span class="fu">DateWindow</span><span class="op">,</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>                Code <span class="op">=</span> <span class="st">&quot;DATE_OUTSIDE_WINDOW&quot;</span><span class="op">,</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>                Description <span class="op">=</span> $<span class="st">&quot;Service date {claim.ServiceDate:d} outside window &quot;</span> <span class="op">+</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>                              $<span class="st">&quot;{windowStart:d} to {windowEnd:d}&quot;</span><span class="op">,</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>                RuleReference <span class="op">=</span> <span class="st">&quot;DateWindow&quot;</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>            <span class="op">});</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 2. Category Exclusions</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">var</span> category <span class="kw">in</span> contract<span class="op">.</span><span class="fu">ExcludedServices</span><span class="op">.</span><span class="fu">Categories</span><span class="op">)</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>            <span class="kw">if</span> <span class="op">(</span>claim<span class="op">.</span><span class="fu">MatchesCategory</span><span class="op">(</span>category<span class="op">))</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>                exclusions<span class="op">.</span><span class="fu">Add</span><span class="op">(</span><span class="kw">new</span> ExclusionReason</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>                <span class="op">{</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>                    Type <span class="op">=</span> ExclusionType<span class="op">.</span><span class="fu">Category</span><span class="op">,</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>                    Code <span class="op">=</span> $<span class="st">&quot;CATEGORY_{category}&quot;</span><span class="op">,</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>                    Description <span class="op">=</span> $<span class="st">&quot;Service category &#39;{category}&#39; is excluded from bundle&quot;</span><span class="op">,</span></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>                    RuleReference <span class="op">=</span> $<span class="st">&quot;ExcludedCategories.{category}&quot;</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>                <span class="op">});</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 3. Code Exclusions</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">var</span> cptCode <span class="kw">in</span> contract<span class="op">.</span><span class="fu">ExcludedServices</span><span class="op">.</span><span class="fu">CptCodes</span><span class="op">)</span></span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>            <span class="kw">if</span> <span class="op">(</span>claim<span class="op">.</span><span class="fu">HasCptCode</span><span class="op">(</span>cptCode<span class="op">))</span></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>                exclusions<span class="op">.</span><span class="fu">Add</span><span class="op">(</span><span class="kw">new</span> ExclusionReason</span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>                <span class="op">{</span></span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>                    Type <span class="op">=</span> ExclusionType<span class="op">.</span><span class="fu">Code</span><span class="op">,</span></span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>                    Code <span class="op">=</span> $<span class="st">&quot;CPT_{cptCode}&quot;</span><span class="op">,</span></span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>                    Description <span class="op">=</span> $<span class="st">&quot;CPT code {cptCode} is excluded from bundle&quot;</span><span class="op">,</span></span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>                    RuleReference <span class="op">=</span> $<span class="st">&quot;ExcludedCptCodes.{cptCode}&quot;</span></span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>                <span class="op">});</span></span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 4. Diagnosis Exclusions (with wildcard support)</span></span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>        <span class="kw">foreach</span> <span class="op">(</span><span class="dt">var</span> dxPattern <span class="kw">in</span> contract<span class="op">.</span><span class="fu">ExcludedServices</span><span class="op">.</span><span class="fu">DiagnosisCodes</span><span class="op">)</span></span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a>            <span class="kw">if</span> <span class="op">(</span>claim<span class="op">.</span><span class="fu">MatchesDiagnosisPattern</span><span class="op">(</span>dxPattern<span class="op">))</span></span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a>                exclusions<span class="op">.</span><span class="fu">Add</span><span class="op">(</span><span class="kw">new</span> ExclusionReason</span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a>                <span class="op">{</span></span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a>                    Type <span class="op">=</span> ExclusionType<span class="op">.</span><span class="fu">Diagnosis</span><span class="op">,</span></span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a>                    Code <span class="op">=</span> $<span class="st">&quot;DX_{claim.PrimaryDiagnosis}&quot;</span><span class="op">,</span></span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a>                    Description <span class="op">=</span> $<span class="st">&quot;Diagnosis {claim.PrimaryDiagnosis} matches exclusion pattern {dxPattern}&quot;</span><span class="op">,</span></span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a>                    RuleReference <span class="op">=</span> $<span class="st">&quot;ExcludedDiagnoses.{dxPattern}&quot;</span></span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a>                <span class="op">});</span></span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb12-70"><a href="#cb12-70" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb12-71"><a href="#cb12-71" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-72"><a href="#cb12-72" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 5. Provider Exclusions</span></span>
<span id="cb12-73"><a href="#cb12-73" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>contract<span class="op">.</span><span class="fu">ExcludedServices</span><span class="op">.</span><span class="fu">Providers</span><span class="op">.</span><span class="fu">Contains</span><span class="op">(</span><span class="st">&quot;out-of-network&quot;</span><span class="op">))</span></span>
<span id="cb12-74"><a href="#cb12-74" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb12-75"><a href="#cb12-75" aria-hidden="true" tabindex="-1"></a>            <span class="kw">if</span> <span class="op">(!</span>claim<span class="op">.</span><span class="fu">Provider</span><span class="op">.</span><span class="fu">IsInNetwork</span><span class="op">)</span></span>
<span id="cb12-76"><a href="#cb12-76" aria-hidden="true" tabindex="-1"></a>            <span class="op">{</span></span>
<span id="cb12-77"><a href="#cb12-77" aria-hidden="true" tabindex="-1"></a>                exclusions<span class="op">.</span><span class="fu">Add</span><span class="op">(</span><span class="kw">new</span> ExclusionReason</span>
<span id="cb12-78"><a href="#cb12-78" aria-hidden="true" tabindex="-1"></a>                <span class="op">{</span></span>
<span id="cb12-79"><a href="#cb12-79" aria-hidden="true" tabindex="-1"></a>                    Type <span class="op">=</span> ExclusionType<span class="op">.</span><span class="fu">Provider</span><span class="op">,</span></span>
<span id="cb12-80"><a href="#cb12-80" aria-hidden="true" tabindex="-1"></a>                    Code <span class="op">=</span> <span class="st">&quot;PROVIDER_OON&quot;</span><span class="op">,</span></span>
<span id="cb12-81"><a href="#cb12-81" aria-hidden="true" tabindex="-1"></a>                    Description <span class="op">=</span> $<span class="st">&quot;Provider {claim.Provider.Name} is out-of-network&quot;</span><span class="op">,</span></span>
<span id="cb12-82"><a href="#cb12-82" aria-hidden="true" tabindex="-1"></a>                    RuleReference <span class="op">=</span> <span class="st">&quot;ExcludedProviders.out-of-network&quot;</span></span>
<span id="cb12-83"><a href="#cb12-83" aria-hidden="true" tabindex="-1"></a>                <span class="op">});</span></span>
<span id="cb12-84"><a href="#cb12-84" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb12-85"><a href="#cb12-85" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb12-86"><a href="#cb12-86" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-87"><a href="#cb12-87" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> <span class="kw">new</span> ExclusionResult</span>
<span id="cb12-88"><a href="#cb12-88" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb12-89"><a href="#cb12-89" aria-hidden="true" tabindex="-1"></a>            ClaimId <span class="op">=</span> claim<span class="op">.</span><span class="fu">Id</span><span class="op">,</span></span>
<span id="cb12-90"><a href="#cb12-90" aria-hidden="true" tabindex="-1"></a>            IsExcluded <span class="op">=</span> exclusions<span class="op">.</span><span class="fu">Any</span><span class="op">(),</span></span>
<span id="cb12-91"><a href="#cb12-91" aria-hidden="true" tabindex="-1"></a>            Reasons <span class="op">=</span> exclusions<span class="op">,</span></span>
<span id="cb12-92"><a href="#cb12-92" aria-hidden="true" tabindex="-1"></a>            RecommendedAction <span class="op">=</span> <span class="fu">DetermineAction</span><span class="op">(</span>exclusions<span class="op">)</span></span>
<span id="cb12-93"><a href="#cb12-93" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb12-94"><a href="#cb12-94" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb12-95"><a href="#cb12-95" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-96"><a href="#cb12-96" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> ExcludedClaimAction <span class="fu">DetermineAction</span><span class="op">(</span>List<span class="op">&lt;</span>ExclusionReason<span class="op">&gt;</span> exclusions<span class="op">)</span></span>
<span id="cb12-97"><a href="#cb12-97" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb12-98"><a href="#cb12-98" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(!</span>exclusions<span class="op">.</span><span class="fu">Any</span><span class="op">())</span></span>
<span id="cb12-99"><a href="#cb12-99" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> ExcludedClaimAction<span class="op">.</span><span class="fu">IncludeInBundle</span><span class="op">;</span></span>
<span id="cb12-100"><a href="#cb12-100" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-101"><a href="#cb12-101" aria-hidden="true" tabindex="-1"></a>        <span class="co">// If any hard exclusion, exclude entirely</span></span>
<span id="cb12-102"><a href="#cb12-102" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>exclusions<span class="op">.</span><span class="fu">Any</span><span class="op">(</span>e <span class="op">=&gt;</span> e<span class="op">.</span><span class="fu">Type</span> <span class="op">==</span> ExclusionType<span class="op">.</span><span class="fu">Category</span> <span class="op">||</span> </span>
<span id="cb12-103"><a href="#cb12-103" aria-hidden="true" tabindex="-1"></a>                                 e<span class="op">.</span><span class="fu">Type</span> <span class="op">==</span> ExclusionType<span class="op">.</span><span class="fu">Code</span><span class="op">))</span></span>
<span id="cb12-104"><a href="#cb12-104" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> ExcludedClaimAction<span class="op">.</span><span class="fu">ExcludeFromBundle</span><span class="op">;</span></span>
<span id="cb12-105"><a href="#cb12-105" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-106"><a href="#cb12-106" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Provider exclusions may be priced separately</span></span>
<span id="cb12-107"><a href="#cb12-107" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>exclusions<span class="op">.</span><span class="fu">Any</span><span class="op">(</span>e <span class="op">=&gt;</span> e<span class="op">.</span><span class="fu">Type</span> <span class="op">==</span> ExclusionType<span class="op">.</span><span class="fu">Provider</span><span class="op">))</span></span>
<span id="cb12-108"><a href="#cb12-108" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> ExcludedClaimAction<span class="op">.</span><span class="fu">PriceSeparately</span><span class="op">;</span></span>
<span id="cb12-109"><a href="#cb12-109" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-110"><a href="#cb12-110" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Date exclusions typically exclude</span></span>
<span id="cb12-111"><a href="#cb12-111" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="op">(</span>exclusions<span class="op">.</span><span class="fu">Any</span><span class="op">(</span>e <span class="op">=&gt;</span> e<span class="op">.</span><span class="fu">Type</span> <span class="op">==</span> ExclusionType<span class="op">.</span><span class="fu">DateWindow</span><span class="op">))</span></span>
<span id="cb12-112"><a href="#cb12-112" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span> ExcludedClaimAction<span class="op">.</span><span class="fu">ExcludeFromBundle</span><span class="op">;</span></span>
<span id="cb12-113"><a href="#cb12-113" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-114"><a href="#cb12-114" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> ExcludedClaimAction<span class="op">.</span><span class="fu">ReviewRequired</span><span class="op">;</span></span>
<span id="cb12-115"><a href="#cb12-115" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb12-116"><a href="#cb12-116" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="excluded-claim-impact-on-bundle">Excluded Claim Impact on
Bundle</h3>
<p><strong>Bundle Calculation Impact Example</strong></p>
<table>
<colgroup>
<col style="width: 41%" />
<col style="width: 25%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>Category</th>
<th>Item</th>
<th>Amount</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Original Bundle</strong></td>
<td>Case Rate</td>
<td>$25,000</td>
</tr>
<tr>
<td><strong>Excluded Claims</strong></td>
<td>ER Visit (Code Exclusion)</td>
<td>$2,500</td>
</tr>
<tr>
<td></td>
<td>OON Surgeon (Provider Exclusion)</td>
<td>$4,000</td>
</tr>
<tr>
<td></td>
<td>Specialty Rx (Category Exclusion)</td>
<td>$8,000</td>
</tr>
<tr>
<td><strong>Adjusted Bundle</strong></td>
<td>Final Amount</td>
<td>$25,000 (no reduction - exclusions don’t affect case rate)</td>
</tr>
<tr>
<td><strong>Separate Pricing</strong></td>
<td>OON Surgeon</td>
<td>$3,200 (80% of allowed)</td>
</tr>
<tr>
<td><strong>Not Covered</strong></td>
<td>ER (patient responsibility)</td>
<td>$0</td>
</tr>
<tr>
<td></td>
<td>Rx (carved out)</td>
<td>$0</td>
</tr>
</tbody>
</table>
<h3 id="exclusion-reporting">Exclusion Reporting</h3>
<div class="sourceCode" id="cb13"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;exclusionSummary&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;episodeId&quot;</span><span class="fu">:</span> <span class="st">&quot;ep-12345&quot;</span><span class="fu">,</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;totalClaimsProcessed&quot;</span><span class="fu">:</span> <span class="dv">45</span><span class="fu">,</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;claimsIncluded&quot;</span><span class="fu">:</span> <span class="dv">38</span><span class="fu">,</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;claimsExcluded&quot;</span><span class="fu">:</span> <span class="dv">7</span><span class="fu">,</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;exclusionsByType&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;DateWindow&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Category&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Code&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Provider&quot;</span><span class="fu">:</span> <span class="dv">1</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;excludedClaimDetails&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;claimId&quot;</span><span class="fu">:</span> <span class="st">&quot;clm-001&quot;</span><span class="fu">,</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;claimNumber&quot;</span><span class="fu">:</span> <span class="st">&quot;2026001234&quot;</span><span class="fu">,</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;chargeAmount&quot;</span><span class="fu">:</span> <span class="fl">2500.00</span><span class="fu">,</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;exclusionType&quot;</span><span class="fu">:</span> <span class="st">&quot;Code&quot;</span><span class="fu">,</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;exclusionReason&quot;</span><span class="fu">:</span> <span class="st">&quot;CPT 99285 (Emergency Room) is excluded&quot;</span><span class="fu">,</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;action&quot;</span><span class="fu">:</span> <span class="st">&quot;ExcludedFromBundle&quot;</span><span class="fu">,</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;impactOnBundle&quot;</span><span class="fu">:</span> <span class="st">&quot;None - Case rate unchanged&quot;</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;claimId&quot;</span><span class="fu">:</span> <span class="st">&quot;clm-002&quot;</span><span class="fu">,</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;claimNumber&quot;</span><span class="fu">:</span> <span class="st">&quot;2026001235&quot;</span><span class="fu">,</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;chargeAmount&quot;</span><span class="fu">:</span> <span class="fl">4000.00</span><span class="fu">,</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;exclusionType&quot;</span><span class="fu">:</span> <span class="st">&quot;Provider&quot;</span><span class="fu">,</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;exclusionReason&quot;</span><span class="fu">:</span> <span class="st">&quot;Provider is out-of-network&quot;</span><span class="fu">,</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;action&quot;</span><span class="fu">:</span> <span class="st">&quot;PricedSeparately&quot;</span><span class="fu">,</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;separatePricing&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;method&quot;</span><span class="fu">:</span> <span class="st">&quot;PercentOfAllowed&quot;</span><span class="fu">,</span></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;allowedAmount&quot;</span><span class="fu">:</span> <span class="fl">4000.00</span><span class="fu">,</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;paymentPercent&quot;</span><span class="fu">:</span> <span class="fl">0.80</span><span class="fu">,</span></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>          <span class="dt">&quot;paymentAmount&quot;</span><span class="fu">:</span> <span class="fl">3200.00</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>        <span class="fu">}</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;financialImpact&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;totalExcludedCharges&quot;</span><span class="fu">:</span> <span class="fl">14500.00</span><span class="fu">,</span></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;separatelyPricedAmount&quot;</span><span class="fu">:</span> <span class="fl">3200.00</span><span class="fu">,</span></span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;patientResponsibility&quot;</span><span class="fu">:</span> <span class="fl">0.00</span><span class="fu">,</span></span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;notCovered&quot;</span><span class="fu">:</span> <span class="fl">11300.00</span></span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="calculation-audit-trail">Calculation Audit Trail</h2>
<h3 id="audit-architecture">Audit Architecture</h3>
<p>Every calculation decision is logged with complete context for
reproducibility and compliance:</p>
<p><strong>Calculation Steps with Audit Trail</strong></p>
<table>
<thead>
<tr>
<th>Step</th>
<th>Calculation Phase</th>
<th>Audit Log Entry</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Input Validation</td>
<td>ValidationAudit</td>
</tr>
<tr>
<td>2</td>
<td>Claim Classification</td>
<td>ClassificationAudit</td>
</tr>
<tr>
<td>3</td>
<td>Exclusion Processing</td>
<td>ExclusionAudit</td>
</tr>
<tr>
<td>4</td>
<td>Base Price Calculation</td>
<td>PricingAudit</td>
</tr>
<tr>
<td>5</td>
<td>Adjustment Application</td>
<td>AdjustmentAudit</td>
</tr>
<tr>
<td>6</td>
<td>Final Amount</td>
<td>FinalAudit</td>
</tr>
</tbody>
</table>
<h3 id="audit-entry-structure">Audit Entry Structure</h3>
<div class="sourceCode" id="cb14"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> CalculationAuditEntry</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> Guid Id <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span> <span class="op">=</span> Guid<span class="op">.</span><span class="fu">NewGuid</span><span class="op">();</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> Guid CalculationId <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> SequenceNumber <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> DateTime Timestamp <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span> <span class="op">=</span> DateTime<span class="op">.</span><span class="fu">UtcNow</span><span class="op">;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// What step in the calculation</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> Phase <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span>  <span class="co">// &quot;Classification&quot;, &quot;Exclusion&quot;, &quot;Pricing&quot;, etc.</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> RuleId <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> RuleName <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> RuleVersion <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// The decision made</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> Decision <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> DecisionReason <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Affected entities</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> Guid<span class="op">?</span> ClaimId <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> ClaimNumber <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> ServiceCategory <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Financial impact</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">decimal</span><span class="op">?</span> InputAmount <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">decimal</span><span class="op">?</span> OutputAmount <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">decimal</span><span class="op">?</span> Adjustment <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Rule details for reproducibility</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> RuleCriteria <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span>  <span class="co">// JSON of rule conditions</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> MatchedValues <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span>  <span class="co">// JSON of values that matched</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Context</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> Dictionary<span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">string</span><span class="op">&gt;</span> Context <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span> <span class="op">=</span> <span class="kw">new</span><span class="op">();</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="complete-audit-example">Complete Audit Example</h3>
<div class="sourceCode" id="cb15"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;calculationId&quot;</span><span class="fu">:</span> <span class="st">&quot;calc-789&quot;</span><span class="fu">,</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;episodeId&quot;</span><span class="fu">:</span> <span class="st">&quot;ep-12345&quot;</span><span class="fu">,</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;calculatedAt&quot;</span><span class="fu">:</span> <span class="st">&quot;2026-01-15T14:30:00Z&quot;</span><span class="fu">,</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;calculatedBy&quot;</span><span class="fu">:</span> <span class="st">&quot;system&quot;</span><span class="fu">,</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;contractProfileId&quot;</span><span class="fu">:</span> <span class="st">&quot;contract-001&quot;</span><span class="fu">,</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;contractProfileVersion&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;calculationVersion&quot;</span><span class="fu">:</span> <span class="st">&quot;1.0.0&quot;</span><span class="fu">,</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;summary&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;totalClaims&quot;</span><span class="fu">:</span> <span class="dv">12</span><span class="fu">,</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;includedClaims&quot;</span><span class="fu">:</span> <span class="dv">10</span><span class="fu">,</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;excludedClaims&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;baseAmount&quot;</span><span class="fu">:</span> <span class="fl">25000.00</span><span class="fu">,</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;adjustments&quot;</span><span class="fu">:</span> <span class="fl">3750.00</span><span class="fu">,</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;incentives&quot;</span><span class="fu">:</span> <span class="fl">500.00</span><span class="fu">,</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;finalAmount&quot;</span><span class="fu">:</span> <span class="fl">29250.00</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;auditTrail&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;sequence&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;phase&quot;</span><span class="fu">:</span> <span class="st">&quot;Validation&quot;</span><span class="fu">,</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;decision&quot;</span><span class="fu">:</span> <span class="st">&quot;VALID&quot;</span><span class="fu">,</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;Episode has required minimum claims and meets bundle criteria&quot;</span><span class="fu">,</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;context&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;claimCount&quot;</span><span class="fu">:</span> <span class="st">&quot;12&quot;</span><span class="fu">,</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;facilityPresent&quot;</span><span class="fu">:</span> <span class="st">&quot;true&quot;</span><span class="fu">,</span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;surgeonPresent&quot;</span><span class="fu">:</span> <span class="st">&quot;true&quot;</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;sequence&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;phase&quot;</span><span class="fu">:</span> <span class="st">&quot;Classification&quot;</span><span class="fu">,</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimId&quot;</span><span class="fu">:</span> <span class="st">&quot;clm-001&quot;</span><span class="fu">,</span></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimNumber&quot;</span><span class="fu">:</span> <span class="st">&quot;2026100001&quot;</span><span class="fu">,</span></span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;decision&quot;</span><span class="fu">:</span> <span class="st">&quot;CLASSIFIED&quot;</span><span class="fu">,</span></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;Claim classified as Facility based on bill type 111&quot;</span><span class="fu">,</span></span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ruleId&quot;</span><span class="fu">:</span> <span class="st">&quot;cat-facility&quot;</span><span class="fu">,</span></span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ruleCriteria&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;billTypes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;11*&quot;</span><span class="ot">]</span> <span class="fu">},</span></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;matchedValues&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;billType&quot;</span><span class="fu">:</span> <span class="st">&quot;111&quot;</span> <span class="fu">},</span></span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;serviceCategory&quot;</span><span class="fu">:</span> <span class="st">&quot;Facility&quot;</span></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;sequence&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;phase&quot;</span><span class="fu">:</span> <span class="st">&quot;Classification&quot;</span><span class="fu">,</span></span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimId&quot;</span><span class="fu">:</span> <span class="st">&quot;clm-002&quot;</span><span class="fu">,</span></span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimNumber&quot;</span><span class="fu">:</span> <span class="st">&quot;2026100002&quot;</span><span class="fu">,</span></span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;decision&quot;</span><span class="fu">:</span> <span class="st">&quot;CLASSIFIED&quot;</span><span class="fu">,</span></span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;Claim classified as Surgeon based on CPT range and taxonomy&quot;</span><span class="fu">,</span></span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ruleId&quot;</span><span class="fu">:</span> <span class="st">&quot;cat-surgeon&quot;</span><span class="fu">,</span></span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ruleCriteria&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;cptRange&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;27000-27899&quot;</span><span class="ot">]</span><span class="fu">,</span> <span class="dt">&quot;taxonomy&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;207X*&quot;</span><span class="ot">]</span> <span class="fu">},</span></span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;matchedValues&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;cptCode&quot;</span><span class="fu">:</span> <span class="st">&quot;27447&quot;</span><span class="fu">,</span> <span class="dt">&quot;taxonomy&quot;</span><span class="fu">:</span> <span class="st">&quot;207XS0100X&quot;</span> <span class="fu">},</span></span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;serviceCategory&quot;</span><span class="fu">:</span> <span class="st">&quot;Surgeon&quot;</span></span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;sequence&quot;</span><span class="fu">:</span> <span class="dv">10</span><span class="fu">,</span></span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;phase&quot;</span><span class="fu">:</span> <span class="st">&quot;Exclusion&quot;</span><span class="fu">,</span></span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimId&quot;</span><span class="fu">:</span> <span class="st">&quot;clm-008&quot;</span><span class="fu">,</span></span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimNumber&quot;</span><span class="fu">:</span> <span class="st">&quot;2026100008&quot;</span><span class="fu">,</span></span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;decision&quot;</span><span class="fu">:</span> <span class="st">&quot;EXCLUDED&quot;</span><span class="fu">,</span></span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;CPT 99285 is in excluded code list&quot;</span><span class="fu">,</span></span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ruleId&quot;</span><span class="fu">:</span> <span class="st">&quot;excl-er-codes&quot;</span><span class="fu">,</span></span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ruleCriteria&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;cptCodes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;99285&quot;</span><span class="ot">,</span> <span class="st">&quot;99291&quot;</span><span class="ot">,</span> <span class="st">&quot;99292&quot;</span><span class="ot">]</span> <span class="fu">},</span></span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;matchedValues&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;cptCode&quot;</span><span class="fu">:</span> <span class="st">&quot;99285&quot;</span> <span class="fu">},</span></span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;inputAmount&quot;</span><span class="fu">:</span> <span class="fl">2500.00</span><span class="fu">,</span></span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;outputAmount&quot;</span><span class="fu">:</span> <span class="fl">0.00</span><span class="fu">,</span></span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;context&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-69"><a href="#cb15-69" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;exclusionType&quot;</span><span class="fu">:</span> <span class="st">&quot;Code&quot;</span><span class="fu">,</span></span>
<span id="cb15-70"><a href="#cb15-70" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;action&quot;</span><span class="fu">:</span> <span class="st">&quot;ExcludeFromBundle&quot;</span></span>
<span id="cb15-71"><a href="#cb15-71" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb15-72"><a href="#cb15-72" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-73"><a href="#cb15-73" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-74"><a href="#cb15-74" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;sequence&quot;</span><span class="fu">:</span> <span class="dv">15</span><span class="fu">,</span></span>
<span id="cb15-75"><a href="#cb15-75" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;phase&quot;</span><span class="fu">:</span> <span class="st">&quot;Pricing&quot;</span><span class="fu">,</span></span>
<span id="cb15-76"><a href="#cb15-76" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;decision&quot;</span><span class="fu">:</span> <span class="st">&quot;BASE_PRICE_CALCULATED&quot;</span><span class="fu">,</span></span>
<span id="cb15-77"><a href="#cb15-77" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;Case rate pricing applied&quot;</span><span class="fu">,</span></span>
<span id="cb15-78"><a href="#cb15-78" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ruleId&quot;</span><span class="fu">:</span> <span class="st">&quot;pricing-case-rate&quot;</span><span class="fu">,</span></span>
<span id="cb15-79"><a href="#cb15-79" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;outputAmount&quot;</span><span class="fu">:</span> <span class="fl">25000.00</span><span class="fu">,</span></span>
<span id="cb15-80"><a href="#cb15-80" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;context&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-81"><a href="#cb15-81" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;pricingMethod&quot;</span><span class="fu">:</span> <span class="st">&quot;CaseRate&quot;</span><span class="fu">,</span></span>
<span id="cb15-82"><a href="#cb15-82" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;includedCategories&quot;</span><span class="fu">:</span> <span class="st">&quot;Facility,Surgeon,Anesthesia,Implants,Rehab&quot;</span><span class="fu">,</span></span>
<span id="cb15-83"><a href="#cb15-83" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;bundleComplete&quot;</span><span class="fu">:</span> <span class="st">&quot;true&quot;</span></span>
<span id="cb15-84"><a href="#cb15-84" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb15-85"><a href="#cb15-85" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-86"><a href="#cb15-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-87"><a href="#cb15-87" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;sequence&quot;</span><span class="fu">:</span> <span class="dv">16</span><span class="fu">,</span></span>
<span id="cb15-88"><a href="#cb15-88" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;phase&quot;</span><span class="fu">:</span> <span class="st">&quot;Adjustment&quot;</span><span class="fu">,</span></span>
<span id="cb15-89"><a href="#cb15-89" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;decision&quot;</span><span class="fu">:</span> <span class="st">&quot;ADJUSTMENT_APPLIED&quot;</span><span class="fu">,</span></span>
<span id="cb15-90"><a href="#cb15-90" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;Complication adjustment triggered by diagnosis T81.4&quot;</span><span class="fu">,</span></span>
<span id="cb15-91"><a href="#cb15-91" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ruleId&quot;</span><span class="fu">:</span> <span class="st">&quot;adj-complication&quot;</span><span class="fu">,</span></span>
<span id="cb15-92"><a href="#cb15-92" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ruleCriteria&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;diagnosisCodes&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;T81.4*&quot;</span><span class="ot">,</span> <span class="st">&quot;T84.5*&quot;</span><span class="ot">]</span> <span class="fu">},</span></span>
<span id="cb15-93"><a href="#cb15-93" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;matchedValues&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;diagnosis&quot;</span><span class="fu">:</span> <span class="st">&quot;T81.41XA&quot;</span> <span class="fu">},</span></span>
<span id="cb15-94"><a href="#cb15-94" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;inputAmount&quot;</span><span class="fu">:</span> <span class="fl">25000.00</span><span class="fu">,</span></span>
<span id="cb15-95"><a href="#cb15-95" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;adjustment&quot;</span><span class="fu">:</span> <span class="fl">3750.00</span><span class="fu">,</span></span>
<span id="cb15-96"><a href="#cb15-96" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;outputAmount&quot;</span><span class="fu">:</span> <span class="fl">28750.00</span><span class="fu">,</span></span>
<span id="cb15-97"><a href="#cb15-97" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;context&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-98"><a href="#cb15-98" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;adjustmentType&quot;</span><span class="fu">:</span> <span class="st">&quot;Percentage&quot;</span><span class="fu">,</span></span>
<span id="cb15-99"><a href="#cb15-99" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;adjustmentPercent&quot;</span><span class="fu">:</span> <span class="st">&quot;15%&quot;</span></span>
<span id="cb15-100"><a href="#cb15-100" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb15-101"><a href="#cb15-101" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-102"><a href="#cb15-102" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-103"><a href="#cb15-103" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;sequence&quot;</span><span class="fu">:</span> <span class="dv">17</span><span class="fu">,</span></span>
<span id="cb15-104"><a href="#cb15-104" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;phase&quot;</span><span class="fu">:</span> <span class="st">&quot;Incentive&quot;</span><span class="fu">,</span></span>
<span id="cb15-105"><a href="#cb15-105" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;decision&quot;</span><span class="fu">:</span> <span class="st">&quot;INCENTIVE_APPLIED&quot;</span><span class="fu">,</span></span>
<span id="cb15-106"><a href="#cb15-106" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;No readmission within 30-day window&quot;</span><span class="fu">,</span></span>
<span id="cb15-107"><a href="#cb15-107" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ruleId&quot;</span><span class="fu">:</span> <span class="st">&quot;incent-no-readmit&quot;</span><span class="fu">,</span></span>
<span id="cb15-108"><a href="#cb15-108" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;ruleCriteria&quot;</span><span class="fu">:</span> <span class="fu">{</span> <span class="dt">&quot;noReadmission&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span> <span class="dt">&quot;windowDays&quot;</span><span class="fu">:</span> <span class="dv">30</span> <span class="fu">},</span></span>
<span id="cb15-109"><a href="#cb15-109" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;inputAmount&quot;</span><span class="fu">:</span> <span class="fl">28750.00</span><span class="fu">,</span></span>
<span id="cb15-110"><a href="#cb15-110" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;adjustment&quot;</span><span class="fu">:</span> <span class="fl">500.00</span><span class="fu">,</span></span>
<span id="cb15-111"><a href="#cb15-111" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;outputAmount&quot;</span><span class="fu">:</span> <span class="fl">29250.00</span><span class="fu">,</span></span>
<span id="cb15-112"><a href="#cb15-112" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;context&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-113"><a href="#cb15-113" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;incentiveType&quot;</span><span class="fu">:</span> <span class="st">&quot;Percentage&quot;</span><span class="fu">,</span></span>
<span id="cb15-114"><a href="#cb15-114" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;incentivePercent&quot;</span><span class="fu">:</span> <span class="st">&quot;2%&quot;</span><span class="fu">,</span></span>
<span id="cb15-115"><a href="#cb15-115" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;readmissionCheckDate&quot;</span><span class="fu">:</span> <span class="st">&quot;2026-02-14&quot;</span></span>
<span id="cb15-116"><a href="#cb15-116" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb15-117"><a href="#cb15-117" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-118"><a href="#cb15-118" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-119"><a href="#cb15-119" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;sequence&quot;</span><span class="fu">:</span> <span class="dv">18</span><span class="fu">,</span></span>
<span id="cb15-120"><a href="#cb15-120" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;phase&quot;</span><span class="fu">:</span> <span class="st">&quot;StopLoss&quot;</span><span class="fu">,</span></span>
<span id="cb15-121"><a href="#cb15-121" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;decision&quot;</span><span class="fu">:</span> <span class="st">&quot;WITHIN_LIMITS&quot;</span><span class="fu">,</span></span>
<span id="cb15-122"><a href="#cb15-122" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;Final amount within stop-loss limits&quot;</span><span class="fu">,</span></span>
<span id="cb15-123"><a href="#cb15-123" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;inputAmount&quot;</span><span class="fu">:</span> <span class="fl">29250.00</span><span class="fu">,</span></span>
<span id="cb15-124"><a href="#cb15-124" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;outputAmount&quot;</span><span class="fu">:</span> <span class="fl">29250.00</span><span class="fu">,</span></span>
<span id="cb15-125"><a href="#cb15-125" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;context&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-126"><a href="#cb15-126" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;minimum&quot;</span><span class="fu">:</span> <span class="st">&quot;18000.00&quot;</span><span class="fu">,</span></span>
<span id="cb15-127"><a href="#cb15-127" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;maximum&quot;</span><span class="fu">:</span> <span class="st">&quot;75000.00&quot;</span></span>
<span id="cb15-128"><a href="#cb15-128" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb15-129"><a href="#cb15-129" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-130"><a href="#cb15-130" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-131"><a href="#cb15-131" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;sequence&quot;</span><span class="fu">:</span> <span class="dv">19</span><span class="fu">,</span></span>
<span id="cb15-132"><a href="#cb15-132" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;phase&quot;</span><span class="fu">:</span> <span class="st">&quot;Final&quot;</span><span class="fu">,</span></span>
<span id="cb15-133"><a href="#cb15-133" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;decision&quot;</span><span class="fu">:</span> <span class="st">&quot;CALCULATION_COMPLETE&quot;</span><span class="fu">,</span></span>
<span id="cb15-134"><a href="#cb15-134" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;Bundle calculation completed successfully&quot;</span><span class="fu">,</span></span>
<span id="cb15-135"><a href="#cb15-135" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;outputAmount&quot;</span><span class="fu">:</span> <span class="fl">29250.00</span><span class="fu">,</span></span>
<span id="cb15-136"><a href="#cb15-136" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;context&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-137"><a href="#cb15-137" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;calculationDurationMs&quot;</span><span class="fu">:</span> <span class="st">&quot;234&quot;</span><span class="fu">,</span></span>
<span id="cb15-138"><a href="#cb15-138" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;rulesEvaluated&quot;</span><span class="fu">:</span> <span class="st">&quot;47&quot;</span><span class="fu">,</span></span>
<span id="cb15-139"><a href="#cb15-139" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;warnings&quot;</span><span class="fu">:</span> <span class="st">&quot;0&quot;</span></span>
<span id="cb15-140"><a href="#cb15-140" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb15-141"><a href="#cb15-141" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb15-142"><a href="#cb15-142" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb15-143"><a href="#cb15-143" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-144"><a href="#cb15-144" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;lineItemBreakdown&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb15-145"><a href="#cb15-145" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-146"><a href="#cb15-146" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;category&quot;</span><span class="fu">:</span> <span class="st">&quot;Facility&quot;</span><span class="fu">,</span></span>
<span id="cb15-147"><a href="#cb15-147" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimCount&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb15-148"><a href="#cb15-148" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;totalCharges&quot;</span><span class="fu">:</span> <span class="fl">85000.00</span><span class="fu">,</span></span>
<span id="cb15-149"><a href="#cb15-149" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;bundleAllocation&quot;</span><span class="fu">:</span> <span class="fl">12500.00</span><span class="fu">,</span></span>
<span id="cb15-150"><a href="#cb15-150" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;allocationPercent&quot;</span><span class="fu">:</span> <span class="dv">50</span></span>
<span id="cb15-151"><a href="#cb15-151" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-152"><a href="#cb15-152" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-153"><a href="#cb15-153" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;category&quot;</span><span class="fu">:</span> <span class="st">&quot;Surgeon&quot;</span><span class="fu">,</span></span>
<span id="cb15-154"><a href="#cb15-154" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimCount&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></span>
<span id="cb15-155"><a href="#cb15-155" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;totalCharges&quot;</span><span class="fu">:</span> <span class="fl">12000.00</span><span class="fu">,</span></span>
<span id="cb15-156"><a href="#cb15-156" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;bundleAllocation&quot;</span><span class="fu">:</span> <span class="fl">6250.00</span><span class="fu">,</span></span>
<span id="cb15-157"><a href="#cb15-157" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;allocationPercent&quot;</span><span class="fu">:</span> <span class="dv">25</span></span>
<span id="cb15-158"><a href="#cb15-158" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-159"><a href="#cb15-159" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-160"><a href="#cb15-160" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;category&quot;</span><span class="fu">:</span> <span class="st">&quot;Anesthesia&quot;</span><span class="fu">,</span></span>
<span id="cb15-161"><a href="#cb15-161" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimCount&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb15-162"><a href="#cb15-162" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;totalCharges&quot;</span><span class="fu">:</span> <span class="fl">3500.00</span><span class="fu">,</span></span>
<span id="cb15-163"><a href="#cb15-163" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;bundleAllocation&quot;</span><span class="fu">:</span> <span class="fl">2500.00</span><span class="fu">,</span></span>
<span id="cb15-164"><a href="#cb15-164" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;allocationPercent&quot;</span><span class="fu">:</span> <span class="dv">10</span></span>
<span id="cb15-165"><a href="#cb15-165" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-166"><a href="#cb15-166" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-167"><a href="#cb15-167" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;category&quot;</span><span class="fu">:</span> <span class="st">&quot;Implants&quot;</span><span class="fu">,</span></span>
<span id="cb15-168"><a href="#cb15-168" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimCount&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></span>
<span id="cb15-169"><a href="#cb15-169" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;totalCharges&quot;</span><span class="fu">:</span> <span class="fl">18000.00</span><span class="fu">,</span></span>
<span id="cb15-170"><a href="#cb15-170" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;bundleAllocation&quot;</span><span class="fu">:</span> <span class="fl">2500.00</span><span class="fu">,</span></span>
<span id="cb15-171"><a href="#cb15-171" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;allocationPercent&quot;</span><span class="fu">:</span> <span class="dv">10</span></span>
<span id="cb15-172"><a href="#cb15-172" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-173"><a href="#cb15-173" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-174"><a href="#cb15-174" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;category&quot;</span><span class="fu">:</span> <span class="st">&quot;Rehab&quot;</span><span class="fu">,</span></span>
<span id="cb15-175"><a href="#cb15-175" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimCount&quot;</span><span class="fu">:</span> <span class="dv">3</span><span class="fu">,</span></span>
<span id="cb15-176"><a href="#cb15-176" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;totalCharges&quot;</span><span class="fu">:</span> <span class="fl">4500.00</span><span class="fu">,</span></span>
<span id="cb15-177"><a href="#cb15-177" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;bundleAllocation&quot;</span><span class="fu">:</span> <span class="fl">1250.00</span><span class="fu">,</span></span>
<span id="cb15-178"><a href="#cb15-178" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;allocationPercent&quot;</span><span class="fu">:</span> <span class="dv">5</span></span>
<span id="cb15-179"><a href="#cb15-179" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb15-180"><a href="#cb15-180" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb15-181"><a href="#cb15-181" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-182"><a href="#cb15-182" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;excludedClaimsSummary&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb15-183"><a href="#cb15-183" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-184"><a href="#cb15-184" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimNumber&quot;</span><span class="fu">:</span> <span class="st">&quot;2026100008&quot;</span><span class="fu">,</span></span>
<span id="cb15-185"><a href="#cb15-185" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;charges&quot;</span><span class="fu">:</span> <span class="fl">2500.00</span><span class="fu">,</span></span>
<span id="cb15-186"><a href="#cb15-186" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;CPT 99285 excluded&quot;</span><span class="fu">,</span></span>
<span id="cb15-187"><a href="#cb15-187" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;disposition&quot;</span><span class="fu">:</span> <span class="st">&quot;Not covered&quot;</span></span>
<span id="cb15-188"><a href="#cb15-188" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb15-189"><a href="#cb15-189" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb15-190"><a href="#cb15-190" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;claimNumber&quot;</span><span class="fu">:</span> <span class="st">&quot;2026100011&quot;</span><span class="fu">,</span></span>
<span id="cb15-191"><a href="#cb15-191" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;charges&quot;</span><span class="fu">:</span> <span class="fl">8000.00</span><span class="fu">,</span></span>
<span id="cb15-192"><a href="#cb15-192" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;reason&quot;</span><span class="fu">:</span> <span class="st">&quot;Specialty Pharmacy excluded&quot;</span><span class="fu">,</span></span>
<span id="cb15-193"><a href="#cb15-193" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;disposition&quot;</span><span class="fu">:</span> <span class="st">&quot;Carved out - separate authorization&quot;</span></span>
<span id="cb15-194"><a href="#cb15-194" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb15-195"><a href="#cb15-195" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb15-196"><a href="#cb15-196" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="audit-query-api">Audit Query API</h3>
<pre class="http"><code>GET /api/v1/calculations/{calculationId}/audit

Response:
{
  &quot;calculationId&quot;: &quot;calc-789&quot;,
  &quot;auditEntries&quot;: [...],
  &quot;summary&quot;: {...}
}

GET /api/v1/calculations/{calculationId}/audit/explain?amount=29250

Response:
{
  &quot;question&quot;: &quot;Why is the final amount $29,250?&quot;,
  &quot;explanation&quot;: {
    &quot;narrative&quot;: &quot;The bundle was calculated using case rate pricing at $25,000. &quot; +
                 &quot;A 15% complication adjustment was applied due to diagnosis T81.41XA, &quot; +
                 &quot;adding $3,750. A 2% quality incentive for no 30-day readmission &quot; +
                 &quot;added $500. The final amount of $29,250 is within stop-loss limits.&quot;,
    &quot;steps&quot;: [
      { &quot;description&quot;: &quot;Base case rate&quot;, &quot;amount&quot;: 25000.00 },
      { &quot;description&quot;: &quot;+ Complication adjustment (15%)&quot;, &quot;amount&quot;: 3750.00 },
      { &quot;description&quot;: &quot;+ No readmission incentive (2%)&quot;, &quot;amount&quot;: 500.00 },
      { &quot;description&quot;: &quot;= Final bundle amount&quot;, &quot;amount&quot;: 29250.00 }
    ]
  }
}</code></pre>
<h3 id="audit-retention-and-compliance">Audit Retention and
Compliance</h3>
<div class="sourceCode" id="cb17"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;auditRetention&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;calculationAudit&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;retentionPeriod&quot;</span><span class="fu">:</span> <span class="st">&quot;7 years&quot;</span><span class="fu">,</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;storageLocation&quot;</span><span class="fu">:</span> <span class="st">&quot;Azure Blob Storage (Archive tier after 1 year)&quot;</span><span class="fu">,</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;immutable&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;encryptionRequired&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;accessLogging&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;logAllAccess&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;includeUserContext&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;retentionPeriod&quot;</span><span class="fu">:</span> <span class="st">&quot;7 years&quot;</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;complianceRequirements&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;regulation&quot;</span><span class="fu">:</span> <span class="st">&quot;HIPAA&quot;</span><span class="fu">,</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;requirement&quot;</span><span class="fu">:</span> <span class="st">&quot;Audit trail for all PHI access and modifications&quot;</span><span class="fu">,</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;implementation&quot;</span><span class="fu">:</span> <span class="st">&quot;All calculation operations logged with user context&quot;</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">{</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;regulation&quot;</span><span class="fu">:</span> <span class="st">&quot;SOC 2&quot;</span><span class="fu">,</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;requirement&quot;</span><span class="fu">:</span> <span class="st">&quot;Change tracking and audit trails&quot;</span><span class="fu">,</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;implementation&quot;</span><span class="fu">:</span> <span class="st">&quot;Rule version tracking, calculation reproducibility&quot;</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<hr />
<h2 id="calculation-reproducibility">Calculation Reproducibility</h2>
<h3 id="version-tracking">Version Tracking</h3>
<p>Every calculation can be reproduced exactly using versioned
inputs:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> ReproducibleCalculation</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Input versions at time of calculation</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> EngineVersion <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> ContractProfileVersion <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> EpisodeDefinitionVersion <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> DateTime CalculationTimestamp <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Snapshot of claims at calculation time</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> ClaimsSnapshotHash <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> IReadOnlyList<span class="op">&lt;</span>ClaimSnapshot<span class="op">&gt;</span> ClaimsSnapshot <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Rule engine state</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> RuleSetHash <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> async Task<span class="op">&lt;</span>BundleResult<span class="op">&gt;</span> <span class="fu">ReproduceAsync</span><span class="op">()</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Load exact versions used</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> contract <span class="op">=</span> await _contractRepo</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">GetVersionAsync</span><span class="op">(</span>ContractProfileId<span class="op">,</span> ContractProfileVersion<span class="op">);</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> definition <span class="op">=</span> await _definitionRepo</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">GetVersionAsync</span><span class="op">(</span>EpisodeDefinitionId<span class="op">,</span> EpisodeDefinitionVersion<span class="op">);</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Use snapshot of claims</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> episode <span class="op">=</span> Episode<span class="op">.</span><span class="fu">FromSnapshot</span><span class="op">(</span>EpisodeId<span class="op">,</span> ClaimsSnapshot<span class="op">);</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Calculate with same engine version</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> engine <span class="op">=</span> _engineFactory<span class="op">.</span><span class="fu">GetVersion</span><span class="op">(</span>EngineVersion<span class="op">);</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> await engine<span class="op">.</span><span class="fu">CalculateAsync</span><span class="op">(</span>episode<span class="op">,</span> contract<span class="op">,</span> definition<span class="op">);</span></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="recalculation-comparison">Recalculation Comparison</h3>
<pre class="http"><code>POST /api/v1/calculations/{calculationId}/reproduce

Response:
{
  &quot;originalCalculation&quot;: {
    &quot;calculatedAt&quot;: &quot;2026-01-15T14:30:00Z&quot;,
    &quot;finalAmount&quot;: 29250.00
  },
  &quot;reproducedCalculation&quot;: {
    &quot;calculatedAt&quot;: &quot;2026-01-15T16:45:00Z&quot;,
    &quot;finalAmount&quot;: 29250.00
  },
  &quot;match&quot;: true,
  &quot;variance&quot;: 0.00,
  &quot;notes&quot;: &quot;Calculation reproduced exactly using original input versions&quot;
}</code></pre>
<hr />
<h2 id="performance-considerations">Performance Considerations</h2>
<h3 id="calculation-caching">Calculation Caching</h3>
<div class="sourceCode" id="cb20"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;calculationCaching&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;cacheKey&quot;</span><span class="fu">:</span> <span class="st">&quot;tenant:{tenantId}:bundle-calc:{episodeId}:{claimsHash}:{contractVersion}&quot;</span><span class="fu">,</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;ttl&quot;</span><span class="fu">:</span> <span class="st">&quot;10 minutes&quot;</span><span class="fu">,</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;invalidationTriggers&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;NewClaimAdded&quot;</span><span class="ot">,</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;ClaimUpdated&quot;</span><span class="ot">,</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;ClaimRemoved&quot;</span><span class="ot">,</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;ContractProfileUpdated&quot;</span><span class="ot">,</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;EpisodeStatusChanged&quot;</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="batch-calculation">Batch Calculation</h3>
<p>For worklist recalculations or modeling scenarios:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> BatchCalculationService</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> async Task<span class="op">&lt;</span>BatchResult<span class="op">&gt;</span> <span class="fu">CalculateBatchAsync</span><span class="op">(</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>        IReadOnlyList<span class="op">&lt;</span>Guid<span class="op">&gt;</span> episodeIds<span class="op">,</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        Guid contractProfileId<span class="op">,</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>        CancellationToken ct <span class="op">=</span> <span class="kw">default</span><span class="op">)</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> contract <span class="op">=</span> await _contractRepo<span class="op">.</span><span class="fu">GetAsync</span><span class="op">(</span>contractProfileId<span class="op">,</span> ct<span class="op">);</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Parallel calculation with controlled concurrency</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> options <span class="op">=</span> <span class="kw">new</span> ParallelOptions</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>            MaxDegreeOfParallelism <span class="op">=</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>            CancellationToken <span class="op">=</span> ct</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>        <span class="dt">var</span> results <span class="op">=</span> <span class="kw">new</span> ConcurrentBag<span class="op">&lt;</span>BundleResult<span class="op">&gt;();</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>        await Parallel<span class="op">.</span><span class="fu">ForEachAsync</span><span class="op">(</span>episodeIds<span class="op">,</span> options<span class="op">,</span> <span class="fu">async</span> <span class="op">(</span>episodeId<span class="op">,</span> token<span class="op">)</span> <span class="op">=&gt;</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>            <span class="dt">var</span> episode <span class="op">=</span> await _episodeRepo<span class="op">.</span><span class="fu">GetWithClaimsAsync</span><span class="op">(</span>episodeId<span class="op">,</span> token<span class="op">);</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>            <span class="dt">var</span> result <span class="op">=</span> await _engine<span class="op">.</span><span class="fu">CalculateAsync</span><span class="op">(</span>episode<span class="op">,</span> contract<span class="op">,</span> token<span class="op">);</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>            results<span class="op">.</span><span class="fu">Add</span><span class="op">(</span>result<span class="op">);</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>        <span class="op">});</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> <span class="kw">new</span> BatchResult</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">{</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>            TotalEpisodes <span class="op">=</span> episodeIds<span class="op">.</span><span class="fu">Count</span><span class="op">,</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>            SuccessfulCalculations <span class="op">=</span> results<span class="op">.</span><span class="fu">Count</span><span class="op">(</span>r <span class="op">=&gt;</span> r<span class="op">.</span><span class="fu">IsSuccess</span><span class="op">),</span></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>            FailedCalculations <span class="op">=</span> results<span class="op">.</span><span class="fu">Count</span><span class="op">(</span>r <span class="op">=&gt;</span> <span class="op">!</span>r<span class="op">.</span><span class="fu">IsSuccess</span><span class="op">),</span></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>            TotalAmount <span class="op">=</span> results<span class="op">.</span><span class="fu">Where</span><span class="op">(</span>r <span class="op">=&gt;</span> r<span class="op">.</span><span class="fu">IsSuccess</span><span class="op">).</span><span class="fu">Sum</span><span class="op">(</span>r <span class="op">=&gt;</span> r<span class="op">.</span><span class="fu">FinalAmount</span><span class="op">),</span></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>            Results <span class="op">=</span> results<span class="op">.</span><span class="fu">ToList</span><span class="op">()</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>        <span class="op">};</span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="performance-targets">Performance Targets</h3>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Target</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Single episode calculation</td>
<td>&lt; 500ms</td>
<td>Including all claims</td>
</tr>
<tr>
<td>Batch calculation (100 episodes)</td>
<td>&lt; 30s</td>
<td>Parallel processing</td>
</tr>
<tr>
<td>Audit log write</td>
<td>&lt; 50ms</td>
<td>Async, non-blocking</td>
</tr>
<tr>
<td>Reproduce historical calculation</td>
<td>&lt; 1s</td>
<td>With version lookup</td>
</tr>
<tr>
<td>What-if modeling (single change)</td>
<td>&lt; 1s</td>
<td>Cached base + delta</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="integration-points">Integration Points</h2>
<h3 id="event-publishing">Event Publishing</h3>
<div class="sourceCode" id="cb22"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> CalculationCompletedEvent</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> Guid CalculationId <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> Guid EpisodeId <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> Guid TenantId <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">decimal</span> FinalAmount <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">decimal</span> PriorAmount <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span>  <span class="co">// If recalculation</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">decimal</span> Variance <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">string</span> CalculationType <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span>  <span class="co">// &quot;Initial&quot;, &quot;Rebundle&quot;, &quot;Modeling&quot;</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> DateTime CalculatedAt <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">bool</span> RequiresReview <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> List<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> Warnings <span class="op">{</span> <span class="kw">get</span><span class="op">;</span> init<span class="op">;</span> <span class="op">}</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="modeling-api-integration">Modeling API Integration</h3>
<pre class="http"><code>POST /api/v1/modeling/scenarios

{
  &quot;name&quot;: &quot;Contract Renegotiation 2027&quot;,
  &quot;baseContractProfileId&quot;: &quot;contract-001&quot;,
  &quot;modifications&quot;: {
    &quot;baseCaseRate&quot;: 26000.00,
    &quot;adjustments&quot;: [
      {
        &quot;name&quot;: &quot;Complication Adjustment&quot;,
        &quot;adjustment&quot;: { &quot;type&quot;: &quot;Percentage&quot;, &quot;value&quot;: 0.12 }
      }
    ]
  },
  &quot;episodeFilter&quot;: {
    &quot;dateRange&quot;: { &quot;start&quot;: &quot;2025-01-01&quot;, &quot;end&quot;: &quot;2025-12-31&quot; },
    &quot;definitionIds&quot;: [&quot;def-joint-replacement&quot;]
  }
}

Response:
{
  &quot;scenarioId&quot;: &quot;scenario-456&quot;,
  &quot;status&quot;: &quot;Calculating&quot;,
  &quot;episodeCount&quot;: 2847,
  &quot;estimatedCompletionTime&quot;: &quot;2026-01-15T14:45:00Z&quot;
}</code></pre>
<hr />
<p><strong>Document Status:</strong> ✅ <strong>Complete</strong><br />
<strong>Next Steps:</strong> Review with Clinical and Finance teams,
validate edge cases with real episode data</p>
</body>
</html>
